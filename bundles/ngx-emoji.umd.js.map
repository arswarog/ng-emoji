{
  "version": 3,
  "file": "ngx-emoji.umd.js",
  "sources": [
    "ng://ngx-emoji/src/main/ngx-emoji.module.ts",
    "ng://ngx-emoji/src/main/ngx-emoji-picker.component.ts",
    "ng://ngx-emoji/src/main/ngx-emoji.component.ts",
    "ng://ngx-emoji/src/main/ngx-emoji.service.ts"
  ],
  "sourcesContent": [
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgxEmojiPickerComponent } from './ngx-emoji-picker.component';\nimport { NgxEmojiComponent } from './ngx-emoji.component';\nimport { NgxEmojiService } from './ngx-emoji.service';\nimport 'ngx-emoji/ngx-emoji.min.css';\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    declarations: [\n        NgxEmojiPickerComponent, NgxEmojiComponent\n    ],\n    providers: [\n        NgxEmojiService\n    ],\n    exports: [\n        NgxEmojiPickerComponent, NgxEmojiComponent\n    ]\n})\nexport class NgxEmojiModule {\n    protected static emojiBundlesPath: string = 'https://cdn.rawgit.com/arswarog/ngx-emoji/build/ngx-emoji-assets/';\n    protected static recentMax: number = 20;\n\n    public static setEmojiBundlesPath(path: string): void {\n        NgxEmojiModule.emojiBundlesPath = path;\n    }\n\n    public static getEmojiBundlesPath(): string {\n        return NgxEmojiModule.emojiBundlesPath;\n    }\n\n    public static setRecentMax(max: number): void {\n        NgxEmojiModule.recentMax = max;\n    }\n\n    public static getRecentMax(): number {\n        return NgxEmojiModule.recentMax;\n    }\n\n}\n",
    "import { Component, OnInit, Input } from '@angular/core';\nimport { NgxEmoji, NgxEmojiService } from \"./ngx-emoji.service\";\nimport { NgxEmojiComponent } from \"./ngx-emoji.component\";\n\nexport interface NgxEmojiPickerCategories {\n    [key: string]: NgxEmoji[];\n}\n\n@Component({\n    selector: 'ngx-emoji-picker',\n    template: `<ul>\n    <li *ngFor=\"let category of Object.keys(categories)\"\n        (click)=\"selectCategory(category)\">{{ category }}</li>\n</ul>\n\n<i *ngFor=\"let emoji of getEmojis()\"\n   [class]=\"'ngx-emoji ngx-emoji-' + emoji.unified\"\n   aria-hidden=\"true\"\n   (click)=\"emojiPicked(emoji.unified)\"\n></i>\n`\n})\nexport class NgxEmojiPickerComponent implements OnInit {\n    private Object: Object = Object;\n    protected categories: NgxEmojiPickerCategories = {Recent: []};\n    protected currentCategory: string = 'Recent';\n\n    public constructor(\n        protected emojiService: NgxEmojiService\n    ) {\n    }\n\n    public ngOnInit(): void {\n        for (let emoji of NgxEmojiService.getEmojis()) {\n            if (this.categories[emoji.category] == undefined) {\n                this.categories[emoji.category] = null;\n            }\n        }\n    }\n\n    public setEmojiService(service: NgxEmojiService): void {\n        this.emojiService = service;\n    }\n\n    @Input('for')\n    protected set inputFor(emojiComponent: NgxEmojiComponent) {\n        this.emojiService = new NgxEmojiService();\n        emojiComponent.addEmojiService(this.emojiService);\n    }\n\n    protected emojiPicked(emoji: string): void {\n        this.emojiService.onEmojiPicked.next(emoji);\n    }\n\n    public selectCategory(category: string): void {\n        this.currentCategory = category;\n    }\n\n    protected loadCategory(category: string): void {\n        let emojis = NgxEmojiService.getEmojis().filter(function (emoji) {\n            return emoji.category == category;\n        });\n        for (let emoji of emojis) {\n            this.emojiService.loadEmoji(emoji.unified);\n        }\n        this.categories[category] = emojis;\n    }\n\n    protected getEmojis(): NgxEmoji[] {\n        let category = this.currentCategory;\n        if (category == 'Recent') {\n            let recent: NgxEmoji[] = [];\n            for (let emoji of this.emojiService.getRecent()) {\n                for (let e of NgxEmojiService.getEmojis()) {\n                    if (e.unified == emoji) {\n                        recent.push(e);\n                        this.emojiService.loadEmoji(e.unified);\n                        break;\n                    }\n                }\n            }\n            return recent;\n        } else {\n            if (this.categories[category] == null) {\n                this.loadCategory(category);\n            }\n            return this.categories[category];\n        }\n    }\n\n}\n",
    "import { Component, OnDestroy, ElementRef, Input, Output, EventEmitter, HostListener } from '@angular/core';\nimport { NgxEmojiService } from \"./ngx-emoji.service\";\nimport { Subscription } from \"rxjs/Subscription\";\nimport { NgxEmojiPickerComponent } from \"./ngx-emoji-picker.component\";\n\nexport interface EnterOn {\n    shift?: boolean;\n    ctrl?: boolean;\n}\n\nexport interface SelectionRange {\n    start: number;\n    stop: number;\n}\n\nexport enum NgxEmojiEntityType {\n    Bold,\n    Italic,\n    Underline\n}\n\nexport interface NgxEmojiEntity {\n    type: NgxEmojiEntityType | string;\n    offset: number;\n    length: number;\n}\n\n@Component({\n    selector: 'ngx-emoji',\n    template: ''\n})\nexport class NgxEmojiComponent implements OnDestroy {\n    private _contenteditable: boolean = false;\n    private _enterOn: EnterOn = {\n        shift: false,\n        ctrl: false\n    };\n    private prevent: {\n        text: string, entities: NgxEmojiEntity[]\n    } = {\n        text: null, entities: null\n    };\n\n    protected emojiService: NgxEmojiService;\n    protected emojiServiceSubscription: Subscription = new Subscription();\n    protected lastSelectionRange: Range;\n    protected readonly allowedTags = ['b', 'i', 'u', 'strong', 'em'];\n\n    public constructor(\n        protected elRef: ElementRef,\n        globalEmojiService: NgxEmojiService\n    ) {\n        let component = this;\n        globalEmojiService.setActiveComponent(this);\n        this.emojiService = globalEmojiService;\n        let subscription = this.emojiService.onEmojiPicked.subscribe(function (emoji: string) {\n            if (globalEmojiService.isActiveComponent(component)) {\n                component.insertEmoji(emoji);\n            }\n        });\n        this.emojiServiceSubscription.add(subscription);\n        this.getNativeElement().appendChild(document.createTextNode(''));\n        let range = document.createRange();\n        range.setStart(this.getNativeElement().firstChild, 0);\n        this.lastSelectionRange = range;\n\n        /**\n         * see: onFocusout()\n         */\n        if (document.onselectionchange !== undefined) {\n            document.addEventListener('selectionchange', function () {\n                component.onSelectionchange();\n            });\n        }\n    }\n\n    public getNativeElement(): HTMLElement {\n        return this.elRef.nativeElement;\n    }\n\n    public ngOnDestroy(): void {\n        this.emojiServiceSubscription.unsubscribe();\n    }\n\n    public addEmojiService(service: NgxEmojiService): void {\n        service.setActiveComponent(this);\n        let component = this;\n        let subscription = service.onEmojiPicked.subscribe(function (emoji: string) {\n            if (service.isActiveComponent(component)) {\n                component.insertEmoji(emoji);\n            }\n        });\n        this.emojiServiceSubscription.add(subscription);\n    }\n\n    /**\n     * Emoji picker\n     */\n\n    @Input('picker')\n    protected set inputPicker(pickerComponent: NgxEmojiPickerComponent) {\n        this.emojiServiceSubscription.unsubscribe();\n        this.emojiServiceSubscription = new Subscription();\n        let service = new NgxEmojiService();\n        service.setActiveComponent(this);\n        this.emojiService = service;\n        pickerComponent.setEmojiService(service);\n        let component = this;\n        let subscription = this.emojiService.onEmojiPicked.subscribe(function (emoji: string) {\n            if (service.isActiveComponent(component)) {\n                component.insertEmoji(emoji);\n            }\n        });\n        this.emojiServiceSubscription.add(subscription);\n    }\n\n    /**\n     * Content editable\n     */\n\n    @Input('attr.contenteditable')\n    protected set attrContenteditable(editable: boolean) {\n        this.contenteditable = editable;\n    }\n\n    @Input('contenteditable')\n    public set contenteditable(editable: boolean) {\n        this._contenteditable = editable;\n        this.elRef.nativeElement.setAttribute('contenteditable', editable);\n        this.onContenteditable.emit(editable);\n    }\n\n    public get contenteditable(): boolean {\n        return this._contenteditable;\n    }\n\n    @Output('contenteditable')\n    public readonly onContenteditable: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n    /**\n     * Enter on\n     */\n\n    @Input('enterOn')\n    public set enterOn(enterOn: EnterOn) {\n        this._enterOn = enterOn;\n        this.onEnterOn.emit(enterOn);\n    }\n\n    public get enterOn(): EnterOn {\n        return this._enterOn;\n    }\n\n    @Output('enterOn')\n    public readonly onEnterOn: EventEmitter<EnterOn> = new EventEmitter<EnterOn>();\n\n    public enterKeyIsEnter(): boolean {\n        return !this.enterKeyIsShiftEnter() && !this.enterKeyIsCtrlEnter();\n    }\n\n    public enterKeyIsCtrlEnter(): boolean {\n        return (this.enterOn.ctrl) ? true : false;\n    }\n\n    public enterKeyIsShiftEnter(): boolean {\n        return (this.enterOn.shift) ? true : false;\n    }\n\n    /**\n     * HTML\n     */\n\n    @Input('fullHtml')\n    public set fullHtml(html: string) {\n        this.getNativeElement().innerHTML = this.filterHtml(html, this.allowedTags)\n    }\n\n    public get fullHtml(): string {\n        let html = document.createElement('div');\n        html.innerHTML = this.getNativeElement().innerHTML;\n\n        for (let img of this.arrayOfNodeList(html.getElementsByTagName('img'))) {\n            if (!img.classList.contains('ngx-emoji')) {\n                continue;\n            }\n            let emoji = document.createElement('i');\n            emoji.className = img.className;\n            emoji.setAttribute('aria-hidden', 'true');\n            img.parentElement.insertBefore(emoji, img);\n            img.remove();\n        }\n\n        return html.innerHTML;\n    }\n\n    @Output('fullHtml')\n    public readonly onFullHtml: EventEmitter<string> = new EventEmitter<string>();\n\n    /**\n     * HTML wihout parahraphs\n     */\n\n    @Input('html')\n    public set html(html: string) {\n        this.getNativeElement().innerHTML = this.filterHtml(html, this.allowedTags)\n    }\n\n    public get html(): string {\n        return this.getHtml(this.getNativeElement());\n    }\n\n    protected getHtml(rootElement: HTMLElement): string {\n        let component = this;\n        let html = '';\n        let rf = function (nodes: NodeList): void {\n            for (let node of component.arrayOfNodeList(nodes)) {\n                let blockNode = component.isBlockNode(node);\n                if (component.isEmojiNode(node)) {\n                    html += component.emojiToSymbol(component.emojiFromNode(node));\n                } else if (node.hasChildNodes()) {\n                    if (!blockNode) {\n                        html += '<' + node.nodeName.toLowerCase() + '>';\n                    }\n                    rf(node.childNodes); // recursion...\n                    if (!blockNode) {\n                        html += '</' + node.nodeName.toLowerCase() + '>';\n                    }\n                } else {\n                    html += component.replaceAll(node.textContent, '\\n', '');\n                }\n                if (blockNode && !rootElement.lastChild.isSameNode(node)) {\n                    html += '\\n';\n                }\n                if (node.nodeName == 'BR'\n                    && node.parentNode.firstChild.nodeName != 'BR'\n                    && node.parentNode.childNodes.length != 1\n                    && rootElement.lastChild.lastChild\n                    && !rootElement.lastChild.lastChild.isSameNode(node)) {\n                    html += '\\n';\n                }\n                // hotfix: insert new line after non-block node\n                if (!blockNode\n                    && node.previousSibling\n                    && node.previousSibling.textContent.length > 0\n                    && node.nextSibling\n                    && component.isBlockNode(node.nextSibling)\n                    && node.parentNode.isSameNode(rootElement)) {\n                    html += '\\n';\n                }\n                // hotfix: insert new line after last emoji\n                if (component.isEmojiNode(node)\n                    && (node as HTMLElement).nextElementSibling\n                    && component.isBlockNode((node as HTMLElement).nextElementSibling)\n                    && node.nextSibling.textContent.length == 0) {\n                    html += '\\n';\n                }\n            }\n        };\n        rf(rootElement.childNodes);\n        html = this.replaceAll(html, '\\u00A0', ' ');\n        html = this.replaceAll(html, '&nbsp;', ' ');\n        return this.filterHtml(html, this.allowedTags);\n    }\n\n    @Output('html')\n    public readonly onHtml: EventEmitter<string> = new EventEmitter<string>();\n\n    /**\n     * Text\n     */\n\n    @Input('text')\n    public set text(text: string) {\n        if (!this.contenteditable && text == this.prevent.text) {\n            return;\n        }\n        this.prevent.text = text;\n\n        let component = this;\n        text = this.filterHtml(text);\n        text = this.replaceAll(text, '\\u00A0', ' ');\n        text = this.replaceAll(text, '  ', '&nbsp;&nbsp;');\n        text = this.replaceSymbolsToEmojis(text);\n\n        let paragraphs = text.split('\\n');\n        text = '';\n        for (let paragraph of paragraphs) {\n            if (paragraph.length == 0) {\n                paragraph = '<br>';\n            }\n            if (paragraph == ' ') {\n                paragraph = '&nbsp;';\n            }\n            text += '<div>' + paragraph + '</div>';\n        }\n        this.getNativeElement().innerHTML = text;\n        if (this.getNativeElement().childNodes.length == 0) {\n            this.getNativeElement().appendChild(document.createTextNode(''));\n        }\n        let range = document.createRange();\n        let lastChild = this.getNativeElement().lastChild;\n        while (lastChild.hasChildNodes()) {\n            lastChild = lastChild.lastChild;\n        }\n        range.setStart(lastChild, lastChild.textContent.length);\n        this.lastSelectionRange = range;\n    }\n\n    public get text(): string {\n        return this.filterHtml(this.html);\n    }\n\n    @Output('text')\n    public readonly onText: EventEmitter<string> = new EventEmitter<string>();\n\n    /**\n     * Entities\n     */\n\n    protected normalizeEntityType(type: any): NgxEmojiEntityType {\n        if (typeof type == 'string') {\n            type = type.toLowerCase();\n        }\n        switch (type) {\n            case 'bold':\n            case NgxEmojiEntityType.Bold:\n                return NgxEmojiEntityType.Bold;\n            case 'italic':\n            case NgxEmojiEntityType.Italic:\n                return NgxEmojiEntityType.Italic;\n            case 'underline':\n            case NgxEmojiEntityType.Underline:\n                return NgxEmojiEntityType.Underline;\n            default:\n                return null;\n        }\n    }\n\n    @Input('entities')\n    public set entities(entities: NgxEmojiEntity[]) {\n        if (!this.contenteditable && JSON.stringify(entities) == JSON.stringify(this.prevent.entities)) {\n            return;\n        }\n        this.prevent.entities = entities;\n\n        let component = this;\n        let nativeElement = this.getNativeElement();\n        let selection = window.getSelection();\n        let previousRange = (selection.rangeCount) ? selection.getRangeAt(0) : null;\n        let previousContenteditableState = this.contenteditable;\n        if (!Array.isArray(entities)) {\n            entities = [];\n        }\n        entities = entities.map(function (entity) {\n            return {\n                offset: entity.offset,\n                length: entity.length,\n                type: component.normalizeEntityType(entity.type)\n            };\n        }).filter(function (entity) {\n            return entity.type !== null;\n        });\n\n        // Clear html formatting\n        let text = this.text;\n        this.text = '';\n        this.text = text;\n\n        // Enable contenteditable for exec commands\n        this.contenteditable = true;\n\n        let endFounded = false;\n        for (let entity of entities) {\n            let range = document.createRange();\n            let offset = 0;\n            let rf = function (nodes: NodeList) {\n                for (let i = 0; i < nodes.length; i++) {\n                    let node = nodes.item(i);\n                    if (component.isEmojiNode(node)) {\n                        let textLength = component.emojiToSymbol(component.emojiFromNode(node)).length;\n                        if (offset <= entity.offset && offset + textLength >= entity.offset) {\n                            range.setStartBefore(node);\n                        }\n                        if (offset <= entity.offset + entity.length && offset + textLength >= entity.offset + entity.length) {\n                            range.setEndAfter(node);\n                            endFounded = true;\n                        }\n                        offset += textLength;\n                    } else {\n                        if (node.hasChildNodes()) {\n                            rf(node.childNodes); // recursion\n                        } else if (node.nodeName != 'BR') {\n                            let textLength = node.textContent.length;\n                            if (offset <= entity.offset && offset + textLength >= entity.offset) {\n                                range.setStart(node, entity.offset - offset);\n                            }\n                            if (offset <= entity.offset + entity.length && offset + textLength >= entity.offset + entity.length) {\n                                range.setEnd(node, entity.offset + entity.length - offset);\n                                endFounded = true;\n                            }\n                            offset += textLength;\n                        }\n                        if (component.isBlockNode(node)) {\n                            offset++;\n                            if (entity.offset + entity.length == offset) {\n                                range.setEndAfter(node.lastChild);\n                                endFounded = true;\n                            }\n                        }\n                    }\n                }\n            };\n            rf(nativeElement.childNodes);\n            if (!endFounded) {\n                range.setEndAfter(nativeElement.lastChild);\n            }\n            selection.removeAllRanges();\n            selection.addRange(range);\n            this.formatText(entity.type as NgxEmojiEntityType);\n        }\n\n        // Restore previous state\n        selection.removeAllRanges();\n        if (previousRange) {\n            selection.addRange(previousRange);\n        }\n        this.contenteditable = previousContenteditableState;\n    }\n\n    public get entities(): NgxEmojiEntity[] {\n        let component = this;\n        let entities: NgxEmojiEntity[] = [];\n        let rf = function (nodes: NodeList, offset: number): void {\n            for (let node of component.arrayOfNodeList(nodes)) {\n                if (node.textContent.trim().length > 0) {\n                    let nodeName = node.nodeName.toUpperCase();\n                    if (nodeName == 'B' || nodeName == 'STRONG') {\n                        entities.push({\n                            type: NgxEmojiEntityType[NgxEmojiEntityType.Bold].toLowerCase(),\n                            offset: offset,\n                            length: node.textContent.length\n                        });\n                    }\n                    if (nodeName == 'I' || nodeName == 'EM') {\n                        entities.push({\n                            type: NgxEmojiEntityType[NgxEmojiEntityType.Italic].toLowerCase(),\n                            offset: offset,\n                            length: node.textContent.length\n                        });\n                    }\n                    if (nodeName == 'U') {\n                        entities.push({\n                            type: NgxEmojiEntityType[NgxEmojiEntityType.Underline].toLowerCase(),\n                            offset: offset,\n                            length: node.textContent.length\n                        });\n                    }\n                }\n                rf(node.childNodes, offset);\n                offset += node.textContent.length;\n            }\n        };\n        let div = document.createElement('div');\n        div.innerHTML = this.html;\n        rf(div.childNodes, 0);\n        div.remove();\n        return entities;\n    }\n\n    @Output('entities')\n    public readonly onEntities: EventEmitter<NgxEmojiEntity[]> = new EventEmitter<NgxEmojiEntity[]>();\n\n    /**\n     * Enter events\n     */\n\n    @Output('enter')\n    public readonly onEnter: EventEmitter<void> = new EventEmitter<void>();\n\n    @HostListener(\"keydown.enter\", ['$event'])\n    protected onKeydownEnter(event: KeyboardEvent): void {\n        if (!this.contenteditable) {\n            return;\n        }\n        event.preventDefault();\n        if (this.enterKeyIsEnter()) {\n            this.emitEnter();\n        } else {\n            this.insertNewLine();\n        }\n    }\n\n    @HostListener(\"keydown.control.enter\", ['$event'])\n    protected onKeydownControlEnter(event: KeyboardEvent): void {\n        if (!this.contenteditable) {\n            return;\n        }\n        event.preventDefault();\n        if (this.enterKeyIsCtrlEnter()) {\n            this.emitEnter();\n        } else {\n            this.insertNewLine();\n        }\n    }\n\n    @HostListener(\"keydown.shift.enter\", ['$event'])\n    protected onKeydownShiftEnter(event: KeyboardEvent): void {\n        if (!this.contenteditable) {\n            return;\n        }\n        event.preventDefault();\n        if (this.enterKeyIsShiftEnter()) {\n            this.emitEnter();\n        }\n    }\n\n    protected emitEnter(): void {\n        this.onText.emit(this.text);\n        this.onEntities.emit(this.entities);\n        this.onFullHtml.emit(this.fullHtml);\n        this.onHtml.emit(this.html);\n        this.onEnter.emit();\n    }\n\n    /**\n     * Keyboard events\n     */\n\n    @HostListener(\"keydown\", ['$event'])\n    protected onKeydown(event: KeyboardEvent): void {\n        if (event.ctrlKey && event.keyCode == 66) {\n            event.preventDefault();\n            this.formatText(NgxEmojiEntityType.Bold);\n        }\n        if (event.ctrlKey && event.keyCode == 73) {\n            event.preventDefault();\n            this.formatText(NgxEmojiEntityType.Italic);\n        }\n        if (event.ctrlKey && event.keyCode == 85) {\n            event.preventDefault();\n            this.formatText(NgxEmojiEntityType.Underline);\n        }\n    }\n\n    /**\n     * Focus events\n     */\n\n    @HostListener(\"focus\")\n    protected onFocus(): void {\n        this.emojiService.setActiveComponent(this);\n    }\n\n    /**\n     * Get selection before blur don't work in Firefox.\n     * Use hotfix with onSelectionchange()\n     * This is fallback\n     */\n    @HostListener(\"focusout\")\n    protected onFocusout(): void {\n        if (document.onselectionchange === undefined) {\n            this.lastSelectionRange = window.getSelection().getRangeAt(0);\n        }\n    }\n\n    protected onSelectionchange() {\n        let selection = window.getSelection();\n        if (selection.containsNode(this.getNativeElement(), true)) {\n            this.lastSelectionRange = selection.getRangeAt(0);\n        }\n    }\n\n    /**\n     * Clipboard events\n     */\n\n    @HostListener(\"paste\", ['$event'])\n    protected onPaste(event: ClipboardEvent): void {\n        event.preventDefault();\n        let html = '';\n        if (event.clipboardData.types.indexOf('text/html') > -1) {\n            html = event.clipboardData.getData('text/html');\n        } else if (event.clipboardData.types.indexOf('text/plain') > -1) {\n            html = event.clipboardData.getData('text/plain');\n        }\n        html = this.filterHtml(html, this.allowedTags);\n        html = this.replaceSymbolsToEmojis(html);\n        this.execCommand('insertHTML', html);\n    }\n\n    @HostListener(\"copy\", ['$event'])\n    protected onCopy(event: ClipboardEvent): void {\n        let previousRange = window.getSelection().getRangeAt(0);\n        if (previousRange.collapsed) {\n            return;\n        }\n        event.preventDefault();\n        let content: DocumentFragment = window.getSelection().getRangeAt(0).cloneContents();\n        let div = document.createElement('div');\n        div.appendChild(content);\n        div.innerHTML = this.getHtml(div);\n        // Copy HTML hack\n        document.getElementsByTagName('body')[0].appendChild(div);\n        let range = document.createRange();\n        range.setStartBefore(div.firstChild);\n        range.setEndAfter(div.lastChild);\n        let selection = window.getSelection();\n        selection.removeAllRanges();\n        selection.addRange(range);\n        this.execCommand('copy');\n        div.remove();\n        selection.removeAllRanges();\n        selection.addRange(previousRange);\n    }\n\n    @HostListener(\"cut\", ['$event'])\n    protected onCut(event: ClipboardEvent): void {\n        this.onCopy(event);\n        this.execCommand('delete');\n    }\n\n    /**\n     * Click events\n     */\n\n    @HostListener(\"click\", ['$event'])\n    protected onClick(event: MouseEvent): void {\n        if (!this.contenteditable) {\n            return;\n        }\n        if (this.isEmojiNode(event.toElement)) {\n            let range = document.createRange();\n            range.setStartBefore(event.toElement);\n            let selection = window.getSelection();\n            selection.removeAllRanges();\n            selection.addRange(range);\n        }\n    }\n\n    /**\n     * Internal\n     */\n\n    protected arrayOfNodeList<T extends Node>(list: NodeListOf<T>): T[] {\n        let result: T[] = [];\n        for (let i = 0; i < list.length; i++) {\n            result.push(list.item(i))\n        }\n        return result;\n    }\n\n    protected isBlockNode(node: Node): boolean {\n        if (!(node instanceof HTMLElement)) {\n            return false;\n        }\n        if (node instanceof HTMLDivElement) {\n            return true;\n        }\n        return window.getComputedStyle(node, '').display == 'block';\n    }\n\n    protected isEmojiNode(node: Node): boolean {\n        if (!(node instanceof HTMLElement)) {\n            return false;\n        }\n        return node.classList.contains('ngx-emoji');\n    }\n\n    protected emojiFromNode(node: Node): string {\n        if (!this.isEmojiNode(node)) {\n            return null;\n        }\n        let classList = (node as HTMLElement).classList;\n        let emoji = null;\n        for (let i = 0; i < classList.length; i++) {\n            if (classList.item(i).substr(0, 10) == 'ngx-emoji-') {\n                emoji = classList.item(i).substr(10);\n                break;\n            }\n        }\n        return emoji;\n    }\n\n    protected replaceSymbolsToEmojis(text: string): string {\n        let component = this;\n        text = text.replace(this.getEmojiRegex(), function (match) {\n            return component.createEmojiImg(component.emojiFromSymbol(match));\n        });\n        text = this.replaceAll(text, '\\uFE0F', ''); // remove variation selector\n        return text;\n    }\n\n    /**\n     * String replace all implementation\n     *\n     * See: https://stackoverflow.com/a/1144788/1617101\n     */\n    protected replaceAll(str: string, find: string, replace: string): string {\n        find = find.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\n        return str.replace(new RegExp(find, 'g'), replace);\n    }\n\n    protected execCommand(command: string, value?: any): boolean {\n        return document.execCommand(command, false, value);\n    }\n\n    protected insertNewLine(): void {\n        this.execCommand('insertParagraph');\n    }\n\n    protected createEmojiImg(emoji: string): string {\n        this.emojiService.loadEmoji(emoji);\n        return '<img class=\"ngx-emoji ngx-emoji-' + emoji + '\" ' +\n            'aria-hidden=\"true\" ' +\n            'alt=\"' + this.emojiToSymbol(emoji) + '\" ' +\n            'src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\">';\n    }\n\n    protected emojiToSymbol(emoji: string): string {\n        emoji = emoji.trim();\n        if (emoji.length == 0) {\n            return '�';\n        }\n        let emojiCodes = emoji.split('-').map(function (value) {\n            return parseInt('0x' + value, 16);\n        });\n        try {\n            emoji = String.fromCodePoint.apply(String, emojiCodes);\n        } catch (error) {\n            console.warn('Convert emoji ' + emoji + ' error: ' + error.message);\n            emoji = '�';\n        }\n        return emoji;\n    }\n\n    protected emojiFromSymbol(symbol: string): string {\n        let codes: string[] = [];\n        for (let i = 0; i < symbol.length; i++) {\n            codes.push(symbol.codePointAt(i).toString(16));\n        }\n        codes = codes\n            .filter(function (code: string) {\n                let p = parseInt(code, 16);\n                return !(p >= 0xD800 && p <= 0xDFFF);\n            })\n            .map(function (code: string) {\n                let pad = '0000';\n                return pad.substring(0, pad.length - code.length) + code;\n            });\n        return codes.join('-').toUpperCase();\n    }\n\n    protected insertEmoji(emoji: string): void {\n        if (!this.contenteditable) {\n            return;\n        }\n        let selection = window.getSelection();\n        selection.removeAllRanges();\n        selection.addRange(this.lastSelectionRange);\n        this.execCommand(\n            'insertHTML',\n            this.createEmojiImg(emoji)\n        );\n        this.emojiService.recentPush(emoji);\n    }\n\n    protected filterHtml(html: string, allowTags: string[] = []): string {\n        let component = this;\n        allowTags = allowTags.map(function (value) {\n            return value.toUpperCase();\n        });\n        let tmp = document.createElement(\"div\");\n        tmp.innerHTML = html;\n        html = '';\n        let rf = function (nodes: NodeList): void {\n            for (let node of component.arrayOfNodeList(nodes)) {\n                if (node.nodeType == node.ELEMENT_NODE) {\n                    if (allowTags.indexOf(node.nodeName) > -1) {\n                        html += '<' + node.nodeName.toLowerCase() + '>';\n                        rf(node.childNodes);\n                        html += '</' + node.nodeName.toLowerCase() + '>';\n                    } else {\n                        rf(node.childNodes);\n                    }\n                } else {\n                    html += node.textContent;\n                }\n            }\n        };\n        rf(tmp.childNodes);\n        tmp.remove();\n        return html;\n    }\n\n    protected formatText(type: NgxEmojiEntityType): void {\n        switch (type) {\n            case NgxEmojiEntityType.Bold:\n                this.execCommand('bold');\n                break;\n            case NgxEmojiEntityType.Italic:\n                this.execCommand('italic');\n                break;\n            case NgxEmojiEntityType.Underline:\n                this.execCommand('underline');\n                break;\n        }\n    }\n\n    /**\n     * See: https://stackoverflow.com/a/41164587/1617101\n     */\n    protected getEmojiRegex(): RegExp {\n        return /(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\u0023-\\u0039]\\ufe0f?\\u20e3|\\u3299|\\u3297|\\u303d|\\u3030|\\u24c2|\\ud83c[\\udd70-\\udd71]|\\ud83c[\\udd7e-\\udd7f]|\\ud83c\\udd8e|\\ud83c[\\udd91-\\udd9a]|\\ud83c[\\udde6-\\uddff]|[\\ud83c[\\ude01\\uddff]|\\ud83c[\\ude01-\\ude02]|\\ud83c\\ude1a|\\ud83c\\ude2f|[\\ud83c[\\ude32\\ude02]|\\ud83c\\ude1a|\\ud83c\\ude2f|\\ud83c[\\ude32-\\ude3a]|[\\ud83c[\\ude50\\ude3a]|\\ud83c[\\ude50-\\ude51]|\\u203c|\\u2049|[\\u25aa-\\u25ab]|\\u25b6|\\u25c0|[\\u25fb-\\u25fe]|\\u00a9|\\u00ae|\\u2122|\\u2139|\\ud83c\\udc04|[\\u2600-\\u26FF]|\\u2b05|\\u2b06|\\u2b07|\\u2b1b|\\u2b1c|\\u2b50|\\u2b55|\\u231a|\\u231b|\\u2328|\\u23cf|[\\u23e9-\\u23f3]|[\\u23f8-\\u23fa]|\\ud83c\\udccf|\\u2934|\\u2935|[\\u2190-\\u21ff])/g;\n    }\n\n}\n",
    "import { Injectable } from '@angular/core';\nimport { Subject } from \"rxjs/Subject\";\nimport { NgxEmojiComponent } from \"./ngx-emoji.component\";\nimport { NgxEmojiModule } from \"./ngx-emoji.module\";\n\nexport interface NgxEmoji {\n    unified: string;\n    category: string;\n    bundle: number;\n}\n\n@Injectable()\nexport class NgxEmojiService {\n    protected static emojis: NgxEmoji[] = null;\n    public readonly onEmojiPicked: Subject<string> = new Subject<string>();\n    protected activeComponent: NgxEmojiComponent;\n\n    public static getEmojis(): NgxEmoji[] {\n        if (this.emojis === null) {\n            this.emojis = require('ngx-emoji/emojis.json');\n        }\n        return this.emojis;\n    }\n\n    public setActiveComponent(component: NgxEmojiComponent): void {\n        this.activeComponent = component;\n    }\n\n    public isActiveComponent(component: NgxEmojiComponent): boolean {\n        return component === this.activeComponent;\n    }\n\n    public loadEmoji(emoji: string): void {\n        let bundleId = this.getEmojiBundle(emoji);\n        if (bundleId !== null && !this.isCssBundleLoaded(bundleId)) {\n            this.loadCssBundle(bundleId);\n        }\n    }\n\n    protected getEmojiBundle(emoji: string): number {\n        for (let e of NgxEmojiService.getEmojis()) {\n            if (e.unified == emoji) {\n                return e.bundle;\n            }\n        }\n        return null;\n    }\n\n    public loadCssBundle(bundleId: number): void {\n        if (!this.isCssBundleLoaded(bundleId)) {\n            let id = 'ngx-emoji-bundle-' + bundleId;\n            let head = document.getElementsByTagName('head')[0];\n            let link = document.createElement('link');\n            link.id = id;\n            link.rel = 'stylesheet';\n            link.type = 'text/css';\n            link.href = NgxEmojiModule.getEmojiBundlesPath() + 'ngx-emoji-b' + bundleId + '.min.css';\n            link.media = 'all';\n            head.appendChild(link);\n        }\n    }\n\n    public isCssBundleLoaded(bundleId: number): boolean {\n        return (document.getElementById('ngx-emoji-bundle-' + bundleId)) ? true : false;\n    }\n\n    public recentPush(emoji: string): void {\n        let recent = this.getRecent();\n        if (recent.indexOf(emoji) > -1) {\n            return;\n        }\n        recent = [emoji].concat(recent)\n            .slice(0, NgxEmojiModule.getRecentMax());\n        window.localStorage.setItem('ngx-emoji-recent', recent.join(':'));\n    }\n\n    public getRecent(): string[] {\n        let recent = window.localStorage.getItem('ngx-emoji-recent');\n        if (!recent) {\n            return [];\n        }\n        return recent.split(':');\n    }\n\n}\n"
  ],
  "names": [
    "HostListener",
    "Input",
    "Output",
    "ElementRef",
    "Component",
    "EventEmitter",
    "Subscription$1",
    "Subject$1"
  ],
  "mappings": "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"
}
