{
  "version": 3,
  "file": "ngx-emoji.umd.js",
  "sources": [
    "ng://ngx-emoji/src/main/ngx-emoji.module.ts",
    "ng://ngx-emoji/src/main/ngx-emoji-with-picker.component.ts",
    "ng://ngx-emoji/src/main/ngx-emoji-picker.component.ts",
    "ng://ngx-emoji/src/main/ngx-emoji.component.ts",
    "ng://ngx-emoji/src/main/ngx-emoji.handler.ts",
    "ng://ngx-emoji/src/main/ngx-emoji.formatter.ts",
    "ng://ngx-emoji/src/main/ngx-emoji.element.ts",
    "ng://ngx-emoji/src/main/ngx-emoji.helper.ts",
    "ng://ngx-emoji/src/main/utils.ts",
    "ng://ngx-emoji/src/main/ngx-emoji.service.ts"
  ],
  "sourcesContent": [
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgxEmojiPickerComponent } from './ngx-emoji-picker.component';\nimport { NgxEmojiComponent } from './ngx-emoji.component';\nimport { NgxEmojiWithPickerComponent } from './ngx-emoji-with-picker.component';\nimport { NgxEmojiService } from './ngx-emoji.service';\nimport 'ngx-emoji/ngx-emoji.min.css';\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    declarations: [\n        NgxEmojiPickerComponent, NgxEmojiComponent, NgxEmojiWithPickerComponent\n    ],\n    providers: [\n        NgxEmojiService\n    ],\n    exports: [\n        NgxEmojiPickerComponent, NgxEmojiComponent, NgxEmojiWithPickerComponent\n    ]\n})\nexport class NgxEmojiModule {\n    protected static emojiBundlesPath: string = 'https://cdn.rawgit.com/arswarog/ngx-emoji/build/ngx-emoji-assets/';\n    protected static recentMax: number = 20;\n\n    public static setEmojiBundlesPath(path: string): void {\n        NgxEmojiModule.emojiBundlesPath = path;\n    }\n\n    public static getEmojiBundlesPath(): string {\n        return NgxEmojiModule.emojiBundlesPath;\n    }\n\n    public static setRecentMax(max: number): void {\n        NgxEmojiModule.recentMax = max;\n    }\n\n    public static getRecentMax(): number {\n        return NgxEmojiModule.recentMax;\n    }\n\n}\n",
    "import { Component, ViewChild, Input, Output, EventEmitter, HostListener, ElementRef } from \"@angular/core\";\nimport { EnterOn, NgxEmojiComponent, NgxEmojiEntity } from \"./ngx-emoji.component\";\nimport { NgxEmojiPickerComponent } from \"./ngx-emoji-picker.component\";\n\n@Component({\n    selector: 'ngx-emoji-with-picker',\n    template: `<ngx-emoji-picker *ngIf=\"showPicker\" [for]=\"emoji\" #picker></ngx-emoji-picker>\n<ngx-emoji #emoji></ngx-emoji>\n<img *ngIf=\"emoji.contenteditable\"\n     aria-hidden=\"true\"\n     src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\"\n     alt=\"Emoji picker\"\n     [class]=\"showPicker ? 'ngx-emoji-cat-smileys-people' : 'ngx-emoji-cat-smileys-people-inactive'\"\n     (click)=\"togglePicker()\">\n`\n})\nexport class NgxEmojiWithPickerComponent {\n\n    @ViewChild('emoji')\n    protected emojiComponent: NgxEmojiComponent;\n\n    public showPicker: boolean = false;\n\n    public constructor(\n        protected elRef: ElementRef\n    ) {\n    }\n\n    public togglePicker(): void {\n        this.showPicker = !this.showPicker;\n    }\n\n    @ViewChild('picker')\n    protected set pickerComponent(picker: NgxEmojiPickerComponent) {\n        if (!picker) {\n            return;\n        }\n        let component = this;\n        picker.nativeElement.addEventListener('mouseleave', function () {\n            let timeout = window.setTimeout(function () {\n                component.showPicker = false;\n            }, 1000);\n            picker.nativeElement.addEventListener('mouseenter', function () {\n                window.clearTimeout(timeout);\n            }, {once: true});\n        });\n    }\n\n    /*@HostListener('document:click', ['$event'])\n    protected onClick(event: MouseEvent): void {\n        if (!this.elRef.nativeElement.contains(event.target)) {\n            this.showPicker = false;\n        }\n    }*/\n\n    @Input('placeholder')\n    public set placeholder(value: string) {\n        this.emojiComponent.placeholder = value;\n    }\n\n    @Input('attr.contenteditable')\n    protected set attrContenteditable(editable: boolean) {\n        this.emojiComponent.contenteditable = editable;\n    }\n\n    @Input('contenteditable')\n    public set contenteditable(editable: boolean) {\n        this.emojiComponent.contenteditable = editable;\n    }\n\n    public get contenteditable(): boolean {\n        return this.emojiComponent.contenteditable;\n    }\n\n    @Output('contenteditableChange')\n    public get contenteditableChange(): EventEmitter<boolean> {\n        return this.emojiComponent.contenteditableChange;\n    }\n\n    @Input('enterOn')\n    public set enterOn(enterOn: EnterOn) {\n        this.emojiComponent.enterOn = enterOn;\n    }\n\n    public get enterOn(): EnterOn {\n        return this.emojiComponent.enterOn;\n    }\n\n    @Output('enterOnChange')\n    public get enterOnChange(): EventEmitter<EnterOn> {\n        return this.emojiComponent.enterOnChange;\n    }\n\n    @Input('fullHtml')\n    public set fullHtml(html: string) {\n        this.emojiComponent.fullHtml = html;\n    }\n\n    public get fullHtml(): string {\n        return this.emojiComponent.fullHtml;\n    }\n\n    @Output('fullHtmlChange')\n    public get fullHtmlChange(): EventEmitter<string> {\n        return this.emojiComponent.fullHtmlChange;\n    }\n\n    @Input('html')\n    public set html(html: string) {\n        this.emojiComponent.html = html;\n    }\n\n    public get html(): string {\n        return this.emojiComponent.html;\n    }\n\n    @Output('htmlChange')\n    public get htmlChange(): EventEmitter<string> {\n        return this.emojiComponent.htmlChange;\n    }\n\n    @Input('text')\n    public set text(text: string) {\n        this.emojiComponent.text = text;\n    }\n\n    public get text(): string {\n        return this.emojiComponent.text;\n    }\n\n    @Output('textChange')\n    public get textChange(): EventEmitter<string> {\n        return this.emojiComponent.textChange;\n    }\n\n    @Input('entities')\n    public set entities(entities: NgxEmojiEntity[]) {\n        this.emojiComponent.entities = entities;\n    }\n\n    public get entities(): NgxEmojiEntity[] {\n        return this.emojiComponent.entities;\n    }\n\n    @Output('entitiesChange')\n    public get entitiesChange(): EventEmitter<NgxEmojiEntity[]> {\n        return this.emojiComponent.entitiesChange;\n    }\n\n    @Output('enter')\n    public get onEnter(): EventEmitter<void> {\n        return this.emojiComponent.onEnter;\n    }\n\n    @Output('command')\n    public get onCommand(): EventEmitter<string> {\n        return this.emojiComponent.onCommand;\n    }\n\n    @Output('link')\n    public get onLink(): EventEmitter<string> {\n        return this.emojiComponent.onLink;\n    }\n\n}\n",
    "import { Component, ElementRef, Input } from '@angular/core';\nimport { NgxEmoji, NgxEmojiService } from \"./ngx-emoji.service\";\nimport { NgxEmojiComponent } from \"./ngx-emoji.component\";\n\nexport interface NgxEmojiPickerCategories {\n    [key: string]: NgxEmoji[];\n}\n\n@Component({\n    selector: 'ngx-emoji-picker',\n    template: `<div>\n  <i *ngFor=\"let emoji of getEmojis()\"\n     [class]=\"'ngx-emoji ngx-emoji-' + emoji.unified\"\n     aria-hidden=\"true\"\n     (click)=\"emojiPicked(emoji.unified)\"\n  ></i>\n</div>\n<hr>\n<i *ngFor=\"let category of getCategories()\"\n     [class]=\"'ngx-emoji-cat ' + category.class\"\n     aria-hidden=\"true\"\n     (click)=\"selectCategory(category.name)\"\n></i>\n`\n})\nexport class NgxEmojiPickerComponent {\n    protected categories: NgxEmojiPickerCategories = {\n        Recent: [],\n        \"Smileys & People\": null,\n        \"Animals & Nature\": null,\n        \"Food & Drink\": null,\n        Objects: null,\n        \"Travel & Places\": null,\n        Activities: null,\n        Symbols: null,\n        Flags: null\n    };\n    protected currentCategory: string = 'Recent';\n    public readonly nativeElement: HTMLElement;\n\n    public constructor(\n        elRef: ElementRef,\n        protected emojiService: NgxEmojiService\n    ) {\n        this.nativeElement = elRef.nativeElement;\n    }\n\n    public setEmojiService(service: NgxEmojiService): void {\n        this.emojiService = service;\n    }\n\n    @Input('for')\n    protected set inputFor(emojiComponent: NgxEmojiComponent) {\n        this.emojiService = new NgxEmojiService();\n        emojiComponent.addEmojiService(this.emojiService);\n    }\n\n    protected emojiPicked(emoji: string): void {\n        this.emojiService.onEmojiPicked.next(emoji);\n    }\n\n    public selectCategory(category: string): void {\n        this.currentCategory = category;\n    }\n\n    protected loadCategory(category: string): void {\n        let emojis = NgxEmojiService.getEmojis().filter(function (emoji) {\n            return emoji.category == category;\n        });\n        for (let emoji of emojis) {\n            NgxEmojiService.loadEmoji(emoji.unified);\n        }\n        this.categories[category] = emojis;\n    }\n\n    protected getEmojis(): NgxEmoji[] {\n        let category = this.currentCategory;\n        if (category == 'Recent') {\n            let recent: NgxEmoji[] = [];\n            for (let emoji of this.emojiService.getRecent()) {\n                for (let e of NgxEmojiService.getEmojis()) {\n                    if (e.unified == emoji) {\n                        recent.push(e);\n                        NgxEmojiService.loadEmoji(e.unified);\n                        break;\n                    }\n                }\n            }\n            return recent;\n        } else {\n            if (this.categories[category] == null) {\n                this.loadCategory(category);\n            }\n            return this.categories[category];\n        }\n    }\n\n    protected getCategories(): { name: string, class: string }[] {\n        return Object.keys(this.categories).map(function (value) {\n            return {\n                name: value,\n                class: 'ngx-emoji-cat-' + value\n                    .replace('&', '')\n                    .replace('  ', ' ')\n                    .replace(' ', '-')\n                    .toLowerCase()\n            };\n        });\n    }\n\n}\n",
    "import { Component, OnDestroy, ElementRef, Input, Output, EventEmitter, HostListener } from '@angular/core';\nimport { NgxEmojiService } from \"./ngx-emoji.service\";\nimport { Subscription } from \"rxjs/Subscription\";\nimport { NgxEmojiPickerComponent } from \"./ngx-emoji-picker.component\";\nimport { NgxEmojiUtils } from \"./utils\";\nimport { NgxEmojiHelper } from \"./ngx-emoji.helper\";\nimport { NgxEmojiElement } from \"./ngx-emoji.element\";\nimport { NgxEmojiFormatter } from \"./ngx-emoji.formatter\";\nimport { NgxEmojiHandler } from \"./ngx-emoji.handler\";\n\nexport interface EnterOn {\n    shift?: boolean;\n    ctrl?: boolean;\n}\n\nexport enum NgxEmojiEntityType {\n    Bold,\n    Italic,\n    Underline,\n    Strike,\n    Code,\n    Pre,\n    Command,\n    Url,\n    TextLink\n}\n\nexport interface NgxEmojiEntity {\n    type: NgxEmojiEntityType | string;\n    offset: number;\n    length: number;\n    url?: string;\n}\n\nexport class NgxEmojiComponentPrevent {\n    public htmlCounter: number = 0;\n    public htmlValue: string = '';\n\n    public fullHtmlCounter: number = 0;\n    public fullHtmlValue: string = '';\n\n    public textCounter: number = 0;\n    public textValue: string = '';\n\n    public entitiesCounter: number = 0;\n    public entitiesValue: NgxEmojiEntity[] = [];\n    public entitiesStringValue: string = '';\n}\n\n@Component({\n    selector: 'ngx-emoji',\n    template: ''\n})\nexport class NgxEmojiComponent implements OnDestroy {\n    private _contenteditable: boolean = false;\n    private _enterOn: EnterOn = {\n        shift: false,\n        ctrl: false\n    };\n\n    protected readonly element: NgxEmojiElement;\n    protected readonly formatter: NgxEmojiFormatter;\n    protected readonly handler: NgxEmojiHandler;\n    protected emojiService: NgxEmojiService;\n    protected emojiServiceSubscription: Subscription = new Subscription();\n    protected lastSelectionRange: Range;\n\n    protected preventCounter: number = 0;\n    protected preventSet: NgxEmojiComponentPrevent = new NgxEmojiComponentPrevent();\n    protected preventGet: NgxEmojiComponentPrevent = new NgxEmojiComponentPrevent();\n\n    @Input('placeholder')\n    public set placeholder(value: string) {\n        this.element.nativeElement.setAttribute('placeholder', value);\n    }\n\n    public constructor(\n        elRef: ElementRef,\n        globalEmojiService: NgxEmojiService\n    ) {\n        let component = this;\n        globalEmojiService.setActiveComponent(this);\n        this.emojiService = globalEmojiService;\n        let subscription = this.emojiService.onEmojiPicked.subscribe(function (emoji: string) {\n            if (globalEmojiService.isActiveComponent(component)) {\n                component.insertEmoji(emoji);\n            }\n        });\n        this.emojiServiceSubscription.add(subscription);\n\n        this.element = new NgxEmojiElement(elRef.nativeElement);\n        this.element.nativeElement.appendChild(document.createTextNode(''));\n        this.formatter = new NgxEmojiFormatter(this.element);\n        this.handler = new NgxEmojiHandler(this.element, this.formatter);\n\n        let range = document.createRange();\n        range.setStart(this.element.nativeElement.firstChild, 0);\n        this.lastSelectionRange = range;\n        this.element.onModified.subscribe(function () {\n            component.preventCounter++;\n            component.onElementModified();\n        });\n\n        /**\n         * see: onFocusout()\n         */\n        if (document.onselectionchange !== undefined) {\n            /*document.addEventListener('selectionchange', function () {\n                component.onSelectionChange();\n            });*/\n        }\n    }\n\n    public ngOnDestroy(): void {\n        this.emojiServiceSubscription.unsubscribe();\n    }\n\n    public addEmojiService(service: NgxEmojiService): void {\n        service.setActiveComponent(this);\n        let component = this;\n        let subscription = service.onEmojiPicked.subscribe(function (emoji: string) {\n            if (service.isActiveComponent(component)) {\n                component.insertEmoji(emoji);\n            }\n        });\n        this.emojiServiceSubscription.add(subscription);\n    }\n\n    /**\n     * Emoji picker\n     */\n\n    @Input('picker')\n    protected set inputPicker(pickerComponent: NgxEmojiPickerComponent) {\n        this.emojiServiceSubscription.unsubscribe();\n        this.emojiServiceSubscription = new Subscription();\n        let service = new NgxEmojiService();\n        service.setActiveComponent(this);\n        this.emojiService = service;\n        pickerComponent.setEmojiService(service);\n        let component = this;\n        let subscription = this.emojiService.onEmojiPicked.subscribe(function (emoji: string) {\n            if (service.isActiveComponent(component)) {\n                component.insertEmoji(emoji);\n            }\n        });\n        this.emojiServiceSubscription.add(subscription);\n    }\n\n    /**\n     * Content editable\n     */\n\n    @Input('attr.contenteditable')\n    protected set attrContenteditable(editable: boolean) {\n        this.contenteditable = editable;\n    }\n\n    @Input('contenteditable')\n    public set contenteditable(editable: boolean) {\n        this._contenteditable = editable;\n        this.element.contentEditable = editable;\n        this.contenteditableChange.emit(editable);\n    }\n\n    public get contenteditable(): boolean {\n        return this._contenteditable;\n    }\n\n    @Output('contenteditableChange')\n    public readonly contenteditableChange: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n    /**\n     * Enter on\n     */\n\n    @Input('enterOn')\n    public set enterOn(enterOn: EnterOn) {\n        this._enterOn = enterOn;\n        this.enterOnChange.emit(enterOn);\n    }\n\n    public get enterOn(): EnterOn {\n        return this._enterOn;\n    }\n\n    @Output('enterOnChange')\n    public readonly enterOnChange: EventEmitter<EnterOn> = new EventEmitter<EnterOn>();\n\n    public enterKeyIsEnter(): boolean {\n        if (this.onEnter.observers.length == 0) {\n            return false;\n        }\n        return !this.enterKeyIsShiftEnter() && !this.enterKeyIsCtrlEnter();\n    }\n\n    public enterKeyIsCtrlEnter(): boolean {\n        if (this.onEnter.observers.length == 0) {\n            return false;\n        }\n        return (this.enterOn.ctrl) ? true : false;\n    }\n\n    public enterKeyIsShiftEnter(): boolean {\n        if (this.onEnter.observers.length == 0) {\n            return false;\n        }\n        return (this.enterOn.shift) ? true : false;\n    }\n\n    /**\n     * HTML\n     */\n\n    @Input('fullHtml')\n    public set fullHtml(html: string) {\n        if ((this.preventSet.htmlValue != html || this.preventSet.htmlCounter != this.preventCounter)\n            && html != this.html) {\n            this.handler.setFullHtml(html);\n            this.preventSet.fullHtmlValue = html;\n            this.preventSet.fullHtmlCounter = this.preventCounter;\n        }\n    }\n\n    public get fullHtml(): string {\n        if (this.preventGet.fullHtmlCounter != this.preventCounter) {\n            this.preventGet.fullHtmlValue = this.handler.getFullHtml();\n            this.preventGet.fullHtmlCounter = this.preventCounter;\n        }\n        return this.preventGet.fullHtmlValue;\n    }\n\n    @Output('fullHtmlChange')\n    public readonly fullHtmlChange: EventEmitter<string> = new EventEmitter<string>();\n\n    /**\n     * HTML wihout parahraphs\n     */\n\n    @Input('html')\n    public set html(html: string) {\n        if ((this.preventSet.htmlCounter != this.preventCounter || this.preventSet.htmlValue != html)\n            && html != this.html) {\n            this.handler.setMarkupHtml(html);\n            this.preventSet.htmlValue = html;\n            this.preventSet.htmlCounter = this.preventCounter;\n        }\n    }\n\n    public get html(): string {\n        if (this.preventGet.htmlCounter != this.preventCounter) {\n            this.preventGet.htmlValue = this.handler.getMarkupHtml();\n            this.preventGet.htmlCounter = this.preventCounter;\n        }\n        return this.preventGet.htmlValue;\n    }\n\n    @Output('htmlChange')\n    public readonly htmlChange: EventEmitter<string> = new EventEmitter<string>();\n\n    /**\n     * Text\n     */\n\n    @Input('text')\n    public set text(text: string) {\n        if ((this.preventSet.textCounter != this.preventCounter || this.preventSet.textValue != text)\n            && text != this.text) {\n            this.handler.format(text, this.entities);\n            let range = document.createRange();\n            let lastChild = this.element.nativeElement.lastChild;\n            while (lastChild.hasChildNodes()) {\n                lastChild = lastChild.lastChild;\n            }\n            range.setStart(lastChild, lastChild.textContent.length);\n            this.lastSelectionRange = range;\n            this.preventSet.textValue = text;\n            this.preventSet.textCounter = this.preventCounter;\n        }\n    }\n\n    public get text(): string {\n        if (this.preventGet.textCounter != this.preventCounter) {\n            this.preventGet.textValue = this.handler.getText();\n            this.preventGet.textCounter = this.preventCounter;\n        }\n        return this.preventGet.textValue;\n    }\n\n    @Output('textChange')\n    public readonly textChange: EventEmitter<string> = new EventEmitter<string>();\n\n    /**\n     * Entities\n     */\n\n    @Input('entities')\n    public set entities(entities: NgxEmojiEntity[]) {\n        let entitiesJson = JSON.stringify(entities);\n        if ((this.preventSet.entitiesCounter != this.preventCounter || this.preventSet.entitiesStringValue != entitiesJson)\n            && entitiesJson != JSON.stringify(this.entities)) {\n            this.handler.format(this.text, entities);\n            this.preventSet.entitiesStringValue = JSON.stringify(entities);\n            this.preventSet.entitiesCounter = this.preventCounter;\n        }\n    }\n\n    public get entities(): NgxEmojiEntity[] {\n        if (this.preventGet.entitiesCounter != this.preventCounter) {\n            this.preventGet.entitiesValue = this.handler.getEntities();\n            this.preventGet.entitiesCounter = this.preventCounter;\n        }\n        return this.preventGet.entitiesValue;\n    }\n\n    @Output('entitiesChange')\n    public readonly entitiesChange: EventEmitter<NgxEmojiEntity[]> = new EventEmitter<NgxEmojiEntity[]>();\n\n    /**\n     * Enter events\n     */\n\n    @Output('enter')\n    public readonly onEnter: EventEmitter<void> = new EventEmitter<void>();\n\n    @HostListener(\"keydown.enter\", ['$event'])\n    protected onKeydownEnter(event: KeyboardEvent): void {\n        if (!this.contenteditable) {\n            return;\n        }\n        event.preventDefault();\n        if (this.enterKeyIsEnter()) {\n            this.emitEnter();\n        } else {\n            this.formatter.insertNewLine();\n        }\n    }\n\n    @HostListener(\"keydown.control.enter\", ['$event'])\n    protected onKeydownControlEnter(event: KeyboardEvent): void {\n        if (!this.contenteditable) {\n            return;\n        }\n        event.preventDefault();\n        if (this.enterKeyIsCtrlEnter()) {\n            this.emitEnter();\n        } else {\n            this.formatter.insertNewLine();\n        }\n    }\n\n    @HostListener(\"keydown.shift.enter\", ['$event'])\n    protected onKeydownShiftEnter(event: KeyboardEvent): void {\n        if (!this.contenteditable) {\n            return;\n        }\n        event.preventDefault();\n        if (this.enterKeyIsShiftEnter()) {\n            this.emitEnter();\n        } else {\n            this.formatter.insertNewLine();\n        }\n    }\n\n    protected emitEnter(): void {\n        this.textChange.emit(this.text);\n        this.entitiesChange.emit(this.entities);\n        this.fullHtmlChange.emit(this.fullHtml);\n        this.htmlChange.emit(this.html);\n        this.onEnter.emit();\n    }\n\n    /**\n     * Event command\n     */\n\n    @Output('command')\n    public readonly onCommand: EventEmitter<string> = new EventEmitter<string>();\n\n    /**\n     * Event link\n     */\n\n    @Output('link')\n    public readonly onLink: EventEmitter<string> = new EventEmitter<string>();\n\n    /**\n     * Keyboard events\n     */\n\n    @HostListener(\"keydown\", ['$event'])\n    protected onKeydown(event: KeyboardEvent): void {\n        if (event.ctrlKey && event.keyCode == 66) {\n            event.preventDefault();\n            this.formatter.formatText(NgxEmojiEntityType.Bold);\n        }\n        if (event.ctrlKey && event.keyCode == 73) {\n            event.preventDefault();\n            this.formatter.formatText(NgxEmojiEntityType.Italic);\n        }\n        if (event.ctrlKey && event.keyCode == 85) {\n            event.preventDefault();\n            this.formatter.formatText(NgxEmojiEntityType.Underline);\n        }\n    }\n\n    /**\n     * Focus events\n     */\n\n    @HostListener(\"focus\")\n    protected onFocus(): void {\n        this.emojiService.setActiveComponent(this);\n    }\n\n    /**\n     * Get selection before blur don't work in Firefox.\n     * Use hotfix with onSelectionchange()\n     * This is fallback\n     */\n    @HostListener(\"focusout\")\n    protected onFocusout(): void {\n        //if (document.onselectionchange === undefined) {\n        //}\n        let range = window.getSelection().getRangeAt(0);\n        if (this.element.nativeElement.contains(range.startContainer)\n            && this.element.nativeElement.contains(range.endContainer)) {\n            this.lastSelectionRange = range;\n        }\n    }\n\n    protected onSelectionChange(): void {\n        let selection = window.getSelection();\n        if (selection.containsNode(this.element.nativeElement, true)) {\n            this.lastSelectionRange = selection.getRangeAt(0);\n        }\n    }\n\n    /**\n     * Clipboard events\n     */\n\n    @HostListener(\"paste\", ['$event'])\n    protected onPaste(event: ClipboardEvent): void {\n        event.preventDefault();\n        let html = '';\n        if (event.clipboardData.types.indexOf('text/html') > -1) {\n            html = event.clipboardData.getData('text/html');\n        } else if (event.clipboardData.types.indexOf('text/plain') > -1) {\n            html = event.clipboardData.getData('text/plain');\n        }\n        html = html.split('\\n').map(function (line, index) {\n            return (index > 0) ? '<div>' + line + '</div>' : line;\n        }).join('');\n        html = NgxEmojiUtils.filterHtml(html, this.handler.allowedTags.concat(['div']));\n        html = NgxEmojiHelper.replaceSymbolsToEmojis(html);\n        this.element.execCommand('insertHTML', html);\n    }\n\n    @HostListener(\"copy\", ['$event'])\n    protected onCopy(event: ClipboardEvent): void {\n        let previousRange = window.getSelection().getRangeAt(0);\n        if (previousRange.collapsed) {\n            return;\n        }\n        event.preventDefault();\n        let content: DocumentFragment = window.getSelection().getRangeAt(0).cloneContents();\n        let div = document.createElement('div');\n        div.appendChild(content);\n        div.innerHTML = this.handler.getMarkupHtml(div)\n            .split('\\n')\n            .map(function (value) {\n                return '<div>' + value + '</div>';\n            })\n            .join('\\n');\n        // Copy HTML hack\n        document.getElementsByTagName('body')[0].appendChild(div);\n        let range = document.createRange();\n        range.setStartBefore(div.firstChild);\n        range.setEndAfter(div.lastChild);\n        let selection = window.getSelection();\n        selection.removeAllRanges();\n        selection.addRange(range);\n        this.element.execCommand('copy');\n        div.remove();\n        selection.removeAllRanges();\n        selection.addRange(previousRange);\n    }\n\n    @HostListener(\"cut\", ['$event'])\n    protected onCut(event: ClipboardEvent): void {\n        this.onCopy(event);\n        this.element.execCommand('delete');\n    }\n\n    /**\n     * Click events\n     */\n\n    @HostListener(\"click\", ['$event'])\n    protected onClick(event: MouseEvent): void {\n        if (this.contenteditable && NgxEmojiHelper.isEmojiNode(event.toElement)) {\n            let range = document.createRange();\n            range.setStartBefore(event.toElement);\n            let selection = window.getSelection();\n            selection.removeAllRanges();\n            selection.addRange(range);\n        }\n        if (event.toElement.classList.contains('command')) {\n            this.onCommand.emit(event.toElement.textContent);\n        }\n        if (event.toElement instanceof HTMLAnchorElement) {\n            event.preventDefault();\n            this.onLink.emit(event.toElement.getAttribute('href'));\n        }\n    }\n\n    /**\n     * Internal\n     */\n\n    protected onElementModified(): void {\n        //this.handler.findCommands();\n        //this.handler.findLinks();\n\n        if (this.textChange.observers.length > 0) {\n            this.textChange.emit(this.text);\n        }\n        if (this.entitiesChange.observers.length > 0) {\n            this.entitiesChange.emit(this.entities);\n        }\n        if (this.fullHtmlChange.observers.length > 0) {\n            this.fullHtmlChange.emit(this.fullHtml);\n        }\n        if (this.htmlChange.observers.length > 0) {\n            this.htmlChange.emit(this.html);\n        }\n    }\n\n    protected insertEmoji(emoji: string): void {\n        if (!this.contenteditable) {\n            return;\n        }\n        let selection = window.getSelection();\n        selection.removeAllRanges();\n        selection.addRange(this.lastSelectionRange);\n        this.formatter.insertEmoji(emoji);\n        this.emojiService.recentPush(emoji);\n    }\n\n}\n",
    "import { NgxEmojiEntity, NgxEmojiEntityType } from \"./ngx-emoji.component\";\nimport { NgxEmojiUtils } from \"./utils\";\nimport { NgxEmojiElement } from \"./ngx-emoji.element\";\nimport { NgxEmojiHelper } from \"./ngx-emoji.helper\";\nimport { NgxEmojiFormatter } from \"./ngx-emoji.formatter\";\n\nexport class NgxEmojiHandler {\n    public readonly allowedTags = [\n        'b', 'i', 'u', 'strong', 'em',\n        'strike', 'code', 'pre', 'a'\n    ];\n\n    public constructor(\n        protected readonly element: NgxEmojiElement,\n        protected readonly formatter: NgxEmojiFormatter\n    ) {\n    }\n\n    public format(text: string, entities: NgxEmojiEntity[]): void {\n        let handler = this;\n        let nativeElement = this.element.nativeElement;\n        let selection = window.getSelection();\n        let previousRange: Range = (selection.rangeCount) ? selection.getRangeAt(0) : null;\n\n        if (!Array.isArray(entities)) {\n            entities = [];\n        }\n        entities = entities.map(function (entity) {\n            return {\n                offset: entity.offset,\n                length: entity.length,\n                type: handler.normalizeEntityType(entity.type),\n                url: entity.url\n            };\n        }).filter(function (entity) {\n            return entity.type !== null;\n        });\n\n        /* set text */\n\n        text = NgxEmojiUtils.filterHtml(text);\n        text = NgxEmojiUtils.replaceAll(text, '\\u00A0', ' ');\n        text = NgxEmojiUtils.replaceAll(text, '  ', '&nbsp;&nbsp;');\n        text = NgxEmojiHelper.replaceSymbolsToEmojis(text);\n\n        let paragraphs = text.split('\\n');\n        text = '';\n        for (let paragraph of paragraphs) {\n            if (paragraph.length == 0) {\n                paragraph = '<br>';\n            }\n            if (paragraph == ' ') {\n                paragraph = '&nbsp;';\n            }\n            text += '<div>' + paragraph + '</div>';\n        }\n        this.element.nativeElement.innerHTML = text;\n        if (this.element.nativeElement.childNodes.length == 0) {\n            this.element.nativeElement.appendChild(document.createTextNode(''));\n        }\n\n        /* set entities */\n        let endFounded = false;\n        for (let entity of entities) {\n            let range = document.createRange();\n            let offset = 0;\n            let rf = function (nodes: NodeList) {\n                for (let i = 0; i < nodes.length; i++) {\n                    let node = nodes.item(i);\n                    if (NgxEmojiHelper.isEmojiNode(node)) {\n                        let textLength = NgxEmojiHelper.emojiToSymbol(NgxEmojiHelper.emojiFromNode(node)).length;\n                        if (offset <= entity.offset && offset + textLength >= entity.offset) {\n                            range.setStartBefore(node);\n                        }\n                        if (offset <= entity.offset + entity.length && offset + textLength >= entity.offset + entity.length) {\n                            range.setEndAfter(node);\n                            endFounded = true;\n                        }\n                        offset += textLength;\n                    } else {\n                        if (node.hasChildNodes()) {\n                            rf(node.childNodes); // recursion\n                        } else if (node.nodeName != 'BR') {\n                            let textLength = node.textContent.length;\n                            if (offset <= entity.offset && offset + textLength >= entity.offset) {\n                                range.setStart(node, entity.offset - offset);\n                            }\n                            if (offset <= entity.offset + entity.length && offset + textLength >= entity.offset + entity.length) {\n                                range.setEnd(node, entity.offset + entity.length - offset);\n                                endFounded = true;\n                            }\n                            offset += textLength;\n                        }\n                        if (NgxEmojiUtils.isBlockNode(node)) {\n                            offset++;\n                            if (entity.offset + entity.length == offset) {\n                                range.setEndAfter(node.lastChild);\n                                endFounded = true;\n                            }\n                        }\n                    }\n                }\n            };\n            rf(nativeElement.childNodes);\n            if (!endFounded) {\n                range.setEndAfter(nativeElement.lastChild);\n            }\n            selection.removeAllRanges();\n            selection.addRange(range);\n            switch (entity.type) {\n                case NgxEmojiEntityType.TextLink:\n                    this.formatter.formatText(NgxEmojiEntityType.TextLink, entity.url);\n                    break;\n                case NgxEmojiEntityType.Url:\n                    this.formatter.formatText(NgxEmojiEntityType.Url, range.cloneContents().textContent);\n                    break;\n                default:\n                    this.formatter.formatText(entity.type as NgxEmojiEntityType);\n                    break;\n            }\n        }\n\n        selection.removeAllRanges();\n        if (previousRange) {\n            selection.addRange(previousRange);\n        }\n    }\n\n    public getEntities(): NgxEmojiEntity[] {\n        let entities: NgxEmojiEntity[] = [];\n        let rf = function (nodes: NodeList, offset: number): void {\n            for (let node of NgxEmojiUtils.arrayOfNodeList(nodes)) {\n                if (node.textContent.trim().length > 0) {\n                    let nodeName = node.nodeName.toUpperCase();\n                    if (nodeName == 'B' || nodeName == 'STRONG') {\n                        entities.push({\n                            type: NgxEmojiEntityType.Bold,\n                            offset: offset,\n                            length: node.textContent.length\n                        });\n                    }\n                    if (nodeName == 'I' || nodeName == 'EM') {\n                        entities.push({\n                            type: NgxEmojiEntityType.Italic,\n                            offset: offset,\n                            length: node.textContent.length\n                        });\n                    }\n                    if (nodeName == 'U') {\n                        entities.push({\n                            type: NgxEmojiEntityType.Underline,\n                            offset: offset,\n                            length: node.textContent.length\n                        });\n                    }\n                    if (nodeName == 'STRIKE') {\n                        entities.push({\n                            type: NgxEmojiEntityType.Strike,\n                            offset: offset,\n                            length: node.textContent.length\n                        });\n                    }\n                    if (nodeName == 'CODE') {\n                        entities.push({\n                            type: NgxEmojiEntityType.Code,\n                            offset: offset,\n                            length: node.textContent.length\n                        });\n                    }\n                    if (nodeName == 'PRE') {\n                        entities.push({\n                            type: NgxEmojiEntityType.Pre,\n                            offset: offset,\n                            length: node.textContent.length\n                        });\n                    }\n                    if (nodeName == 'A' && node instanceof HTMLAnchorElement\n                        && node.getAttribute('href') == node.textContent) {\n                        entities.push({\n                            type: NgxEmojiEntityType.Url,\n                            offset: offset,\n                            length: node.textContent.length\n                        });\n                    }\n                    if (nodeName == 'A' && node instanceof HTMLAnchorElement\n                        && node.getAttribute('href') != node.textContent) {\n                        entities.push({\n                            type: NgxEmojiEntityType.TextLink,\n                            offset: offset,\n                            length: node.textContent.length,\n                            url: node.textContent\n                        });\n                    }\n                    if (node instanceof HTMLElement && node.classList.contains('command')) {\n                        entities.push({\n                            type: NgxEmojiEntityType.Command,\n                            offset: offset,\n                            length: node.textContent.length\n                        });\n                    }\n                }\n                rf(node.childNodes, offset);\n                offset += node.textContent.length;\n            }\n        };\n        let div = document.createElement('div');\n        div.innerHTML = this.getMarkupHtml(this.element.nativeElement, true);\n        rf(div.childNodes, 0);\n        div.remove();\n        entities = entities.map(function (entity) {\n            if (entity.type == NgxEmojiEntityType.TextLink) {\n                entity.type = 'text_link';\n            } else {\n                entity.type = NgxEmojiEntityType[entity.type as number].toLowerCase();\n            }\n            return entity;\n        });\n        return entities;\n    }\n\n    public getText(): string {\n        return NgxEmojiUtils.filterHtml(this.getMarkupHtml());\n    }\n\n    public getFullHtml() {\n        let html = document.createElement('div');\n        html.innerHTML = this.element.nativeElement.innerHTML;\n        for (let img of NgxEmojiUtils.arrayOfNodeList(html.getElementsByTagName('img'))) {\n            if (!img.classList.contains('ngx-emoji')) {\n                continue;\n            }\n            let emoji = document.createElement('i');\n            emoji.className = img.className;\n            emoji.setAttribute('aria-hidden', 'true');\n            img.parentElement.insertBefore(emoji, img);\n            img.remove();\n        }\n        let result = html.innerHTML;\n        html.remove();\n        return result;\n    }\n\n    public getMarkupHtml(rootElement: HTMLElement = null, withCommands: boolean = false): string {\n        if (!rootElement) {\n            rootElement = this.element.nativeElement;\n        }\n        let html = '';\n        let rf = function (nodes: NodeList): void {\n            for (let node of NgxEmojiUtils.arrayOfNodeList(nodes)) {\n                let blockNode = NgxEmojiUtils.isBlockNode(node);\n                if (node.nodeName == 'PRE') {\n                    blockNode = false;\n                }\n                if (NgxEmojiHelper.isEmojiNode(node)) {\n                    html += NgxEmojiHelper.emojiToSymbol(NgxEmojiHelper.emojiFromNode(node));\n                } else if (node.hasChildNodes()) {\n                    if (!blockNode) {\n                        if (node instanceof HTMLAnchorElement) {\n                            html += '<' + node.nodeName.toLowerCase() + ' href=\"' + node.getAttribute('href') + '\">';\n                        } else if ((node as HTMLElement).classList.contains('command')) {\n                            html += '<' + node.nodeName.toLowerCase() + ' class=\"command\">';\n                        } else {\n                            html += '<' + node.nodeName.toLowerCase() + '>';\n                        }\n                    }\n                    rf(node.childNodes); // recursion...\n                    if (!blockNode) {\n                        html += '</' + node.nodeName.toLowerCase() + '>';\n                    }\n                } else {\n                    html += NgxEmojiUtils.replaceAll(node.textContent, '\\n', '');\n                }\n                if (blockNode && !rootElement.lastChild.isSameNode(node)) {\n                    html += '\\n';\n                }\n                if (node.nodeName == 'BR'\n                    && node.parentNode.firstChild.nodeName != 'BR'\n                    && node.parentNode.childNodes.length != 1\n                    && rootElement.lastChild.lastChild\n                    && !rootElement.lastChild.lastChild.isSameNode(node)) {\n                    html += '\\n';\n                }\n                // hotfix: insert new line after non-block node\n                if (!blockNode\n                    && node.previousSibling\n                    && node.previousSibling.textContent.length > 0\n                    && node.nextSibling\n                    && NgxEmojiUtils.isBlockNode(node.nextSibling)\n                    && node.parentNode.isSameNode(rootElement)) {\n                    html += '\\n';\n                }\n                // hotfix: insert new line after last emoji\n                if (NgxEmojiHelper.isEmojiNode(node)\n                    && (node as HTMLElement).nextElementSibling\n                    && NgxEmojiUtils.isBlockNode((node as HTMLElement).nextElementSibling)\n                    && node.nextSibling.textContent.length == 0) {\n                    html += '\\n';\n                }\n            }\n        };\n        rf(rootElement.childNodes);\n        html = NgxEmojiUtils.replaceAll(html, '\\u00A0', ' ');\n        html = NgxEmojiUtils.replaceAll(html, '&nbsp;', ' ');\n        return NgxEmojiUtils.filterHtml(html, this.allowedTags, withCommands);\n    }\n\n    public setFullHtml(html: string): void {\n        this.element.nativeElement.innerHTML = NgxEmojiUtils.filterHtml(html, this.allowedTags);\n    }\n\n    public setMarkupHtml(html: string): void {\n        html = html.split('\\n').map(function (line, index) {\n            return (index > 0) ? '<div>' + line + '</div>' : line;\n        }).join('');\n        this.element.nativeElement.innerHTML = NgxEmojiUtils.filterHtml(html, this.allowedTags.concat('div'));\n    }\n\n    protected normalizeEntityType(type: any): NgxEmojiEntityType {\n        if (typeof type == 'string') {\n            type = type.toLowerCase();\n        }\n        switch (type) {\n            case 'bold':\n            case NgxEmojiEntityType.Bold:\n                return NgxEmojiEntityType.Bold;\n            case 'italic':\n            case NgxEmojiEntityType.Italic:\n                return NgxEmojiEntityType.Italic;\n            case 'underline':\n            case NgxEmojiEntityType.Underline:\n                return NgxEmojiEntityType.Underline;\n            case 'strike':\n            case NgxEmojiEntityType.Strike:\n                return NgxEmojiEntityType.Strike;\n            case 'code':\n            case NgxEmojiEntityType.Code:\n                return NgxEmojiEntityType.Code;\n            case 'pre':\n            case NgxEmojiEntityType.Pre:\n                return NgxEmojiEntityType.Pre;\n            case 'command':\n            case NgxEmojiEntityType.Command:\n                return NgxEmojiEntityType.Command;\n            case 'url':\n            case NgxEmojiEntityType.Url:\n                return NgxEmojiEntityType.Url;\n            case 'text_link':\n            case NgxEmojiEntityType.TextLink:\n                return NgxEmojiEntityType.TextLink;\n            default:\n                return null;\n        }\n    }\n\n    public findCommands(): void {\n        let selection = window.getSelection();\n        if (selection.anchorNode) {\n            let node = selection.anchorNode;\n            if (node.parentElement.classList.contains('command')) {\n                if (node.textContent.trim().length != node.textContent.length) {\n                    /*node.textContent = node.textContent.trim();\n                    let node2 = document.createTextNode(' ');\n                    node.parentElement.parentElement.appendChild(node2);\n                    let range = document.createRange();\n                    range.setStartAfter(node2);\n                    range.collapse(true);\n                    selection.removeAllRanges();\n                    selection.addRange(range);*/\n                }\n            } else {\n                let regex = /(^|\\s)(\\/[a-z0-9]+)($|\\s)/ig;\n                let match: RegExpExecArray;\n                while ((match = regex.exec(node.textContent)) !== null) {\n                    let offset = match.index;\n                    if (match[0].charAt(0) == ' ') {\n                        offset++;\n                    }\n                    let length = match[2].length;\n                    if (match[2].charAt(length - 1) == ' ') {\n                        length--;\n                    }\n                    regex.lastIndex = regex.lastIndex - (match[0].length - match[2].length);\n\n                    let node2 = document.createTextNode(node.textContent.substr(0, offset));\n                    node.textContent = node.textContent.substr(offset + length);\n                    node.parentNode.insertBefore(node2, node);\n                    let span = document.createElement('span');\n                    span.classList.add('command');\n                    span.textContent = match[2].trim();\n                    node.parentNode.insertBefore(span, node);\n                }\n            }\n        }\n    }\n\n    public findLinks(): void {\n        //\n    }\n\n}\n",
    "import { NgxEmojiElement } from \"./ngx-emoji.element\";\nimport { NgxEmojiEntityType } from \"./ngx-emoji.component\";\nimport { NgxEmojiHelper } from \"./ngx-emoji.helper\";\n\nexport class NgxEmojiFormatter {\n\n    public constructor(\n        protected readonly element: NgxEmojiElement\n    ) {\n    }\n\n    public formatText(type: NgxEmojiEntityType, value?: string): void {\n        switch (type) {\n            case NgxEmojiEntityType.Bold:\n                this.element.execCommand('bold');\n                break;\n            case NgxEmojiEntityType.Italic:\n                this.element.execCommand('italic');\n                break;\n            case NgxEmojiEntityType.Underline:\n                this.element.execCommand('underline');\n                break;\n            case NgxEmojiEntityType.Pre:\n                this.element.execCommand('pre');\n                break;\n            case NgxEmojiEntityType.Code:\n                this.element.execCommand('code');\n                break;\n            case NgxEmojiEntityType.Strike:\n                this.element.execCommand('strikeThrough');\n                break;\n            case NgxEmojiEntityType.Command:\n                this.element.execCommand('command');\n                break;\n            case NgxEmojiEntityType.TextLink:\n            case NgxEmojiEntityType.Url:\n                this.element.execCommand('createLink', value);\n                break;\n        }\n    }\n\n    public insertNewLine(): void {\n        this.element.execCommand('insertParagraph');\n    }\n\n    public insertEmoji(emoji: string): void {\n        this.element.execCommand(\n            'insertHTML',\n            NgxEmojiHelper.createEmojiImg(emoji)\n        );\n    }\n\n}\n",
    "import { EventEmitter } from \"@angular/core\";\nimport { NgxEmojiUtils } from \"./utils\";\n\nexport class NgxEmojiElement {\n\n    public readonly onModified: EventEmitter<MutationEvent> = new EventEmitter<MutationEvent>();\n\n    public constructor(\n        public readonly nativeElement: HTMLElement\n    ) {\n        let onModified = this.onModified;\n        nativeElement.addEventListener('DOMSubtreeModified', function (event) {\n            onModified.emit(event as MutationEvent);\n        });\n    }\n\n    public set contentEditable(editable: boolean) {\n        if (editable != this.contentEditable) {\n            this.nativeElement.setAttribute('contenteditable', editable ? 'true' : 'false');\n        }\n    }\n\n    public get contentEditable(): boolean {\n        return this.nativeElement.getAttribute('contenteditable') == 'true';\n    }\n\n    public execCommand(command: string, value?: any): boolean {\n        let editable = this.contentEditable;\n        this.contentEditable = true;\n        let result = false;\n        switch (command) {\n            case 'code':\n                result = this.execCommandTag('code');\n                break;\n            case 'pre':\n                result = this.execCommandTag('pre');\n                break;\n            case 'command':\n                result = this.execCommandTag('span', [{name: 'class', value: 'command'}]);\n                break;\n            default:\n                result = document.execCommand(command, false, value);\n                break;\n        }\n        this.contentEditable = editable;\n        return result;\n    }\n\n    protected execCommandTag(tag: string, attributes: { name: string, value: string }[] = []): boolean {\n        this.execCommand('superscript');\n        let tmp = document.createElement(\"div\");\n        tmp.innerHTML = this.nativeElement.innerHTML;\n        let html = '';\n        let rf = function (nodes: NodeList): void {\n            for (let node of NgxEmojiUtils.arrayOfNodeList(nodes)) {\n                if (node.nodeType == node.ELEMENT_NODE) {\n                    let nodeName = node.nodeName.toLowerCase();\n                    if (nodeName == 'sup') {\n                        nodeName = tag;\n                        html += '<' + tag;\n                        for (let attr of attributes) {\n                            html += ' ' + attr.name + '=\"' + attr.value + '\"';\n                        }\n                        html += '>';\n                    } else {\n                        html += '<' + nodeName;\n                        for (let i = 0; i < node.attributes.length; i++) {\n                            let attr = node.attributes.item(i);\n                            html += ' ' + attr.name + '=\"' + attr.value + '\"';\n                        }\n                        html += '>';\n                    }\n                    rf(node.childNodes);\n                    html += '</' + nodeName + '>';\n                } else {\n                    html += node.textContent;\n                }\n            }\n        };\n        rf(tmp.childNodes);\n        tmp.remove();\n        this.nativeElement.innerHTML = html;\n        return true;\n    }\n\n}",
    "import { NgxEmojiUtils } from \"./utils\";\nimport { NgxEmojiService } from \"./ngx-emoji.service\";\n\nexport class NgxEmojiHelper {\n\n    public static createEmojiImg(emoji: string): string {\n        NgxEmojiService.loadEmoji(emoji);\n        return '<img class=\"ngx-emoji ngx-emoji-' + emoji + '\" ' +\n            'aria-hidden=\"true\" ' +\n            'alt=\"' + this.emojiToSymbol(emoji) + '\" ' +\n            'src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\">';\n    }\n\n    public static emojiToSymbol(emoji: string): string {\n        emoji = emoji.trim();\n        if (emoji.length == 0) {\n            return '';\n        }\n        let emojiCodes = emoji.split('-').map(function (value) {\n            return parseInt('0x' + value, 16);\n        });\n        try {\n            emoji = String.fromCodePoint.apply(String, emojiCodes);\n        } catch (error) {\n            console.warn('Convert emoji ' + emoji + ' error: ' + error.message);\n            emoji = '';\n        }\n        return emoji;\n    }\n\n    /**\n     * For debug...\n     */\n    public static dumpEmoji(emoji: string): void {\n        let s: string[] = [];\n        let s2: string[] = [];\n        for (let i = 0; i < emoji.length; i++) {\n            s.push(emoji.codePointAt(i).toString(16).toUpperCase());\n            s2.push(emoji.charCodeAt(i).toString(16).toUpperCase());\n        }\n        console.log(emoji, s, s2);\n    }\n\n    public static emojiFromSymbol(symbol: string): string {\n        let codes: string[] = [];\n        for (let i = 0; i < symbol.length; i++) {\n            codes.push(symbol.codePointAt(i).toString(16));\n        }\n        codes = codes\n            .filter(function (code: string) {\n                let p = parseInt(code, 16);\n                return !(p >= 0xD800 && p <= 0xDFFF);\n            })\n            .map(function (code: string) {\n                let pad = '0000';\n                return pad.substring(0, pad.length - code.length) + code;\n            });\n        return codes.join('-').toUpperCase();\n    }\n\n    public static replaceSymbolsToEmojis(text: string): string {\n        text = text.replace(this.getEmojiRegex(), function (match) {\n            return NgxEmojiHelper.createEmojiImg(NgxEmojiHelper.emojiFromSymbol(match));\n        });\n        text = NgxEmojiUtils.replaceAll(text, '\\uFE0F', ''); // remove variation selector\n        return text;\n    }\n\n    public static isEmojiNode(node: Node): boolean {\n        if (!(node instanceof HTMLElement)) {\n            return false;\n        }\n        return node.classList.contains('ngx-emoji');\n    }\n\n    public static emojiFromNode(node: Node): string {\n        if (!this.isEmojiNode(node)) {\n            return null;\n        }\n        let classList = (node as HTMLElement).classList;\n        let emoji = null;\n        for (let i = 0; i < classList.length; i++) {\n            if (classList.item(i).substr(0, 10) == 'ngx-emoji-') {\n                emoji = classList.item(i).substr(10);\n                break;\n            }\n        }\n        return emoji;\n    }\n\n    /**\n     * See: https://habrahabr.ru/company/badoo/blog/282113/\n     */\n    protected static getEmojiRegex(): RegExp {\n        let emojiRanges = [\n            '(?:\\uD83C[\\uDDE6-\\uDDFF]){2}', // \n            '[\\u0023-\\u0039]\\u20E3', // \n            '(?:[\\uD83D\\uD83C\\uD83E][\\uDC00-\\uDFFF]|[\\u270A-\\u270D\\u261D\\u26F9])\\uD83C[\\uDFFB-\\uDFFF]', //  \n\n            //   \n            '[\\uD83D][\\uDC66-\\uDC69][\\u200D][\\uD83D][\\uDC66-\\uDC69][\\u200D][\\uD83D][\\uDC66-\\uDC67]([\\u200D][\\uD83D][\\uDC66-\\uDC67])?',\n            '[\\uD83D][\\uDC68-\\uDC69][\\u200D][\\u2764][\\u200D][\\uD83D][\\uDC68-\\uDC69]',\n            '[\\uD83D][\\uDC68-\\uDC69][\\u200D][\\u2764][\\u200D][\\uD83D][\\uDC8B][\\u200D][\\uD83D][\\uDC68-\\uDC69]',\n            '[\\uD83D][\\uDC68-\\uDC69][\\u200D][\\uD83C-\\uD83E][\\uDC00-\\uDFFF]',\n            '[\\uD83C-\\uD83E][\\uDC00-\\uDFFF][\\uFE0F]?[\\u200D][\\u2640-\\u2696][\\uFE0F]?',\n            '[\\uD83D][\\uDD75][\\uFE0F][\\u200D][\\u2640][\\uFE0F]',\n            '[\\uD83D][\\uDC68-\\uDC69][\\u200D][\\u2708]',\n            '[\\uD83C-\\uD83E][\\uDC68-\\uDC69][\\u200D][\\uD83C-\\uD83E][\\uDC66][\\u200D][\\uD83C-\\uD83E][\\uDC66]',\n            '[\\u26F9][\\uFE0F][\\u200D][\\u2640-\\u2696][\\uFE0F]',\n\n            '[\\uD83D\\uD83C\\uD83E][\\uDC00-\\uDFFF]', //  \n            '[\\u3297\\u3299\\u303D\\u2B50\\u2B55\\u2B1B\\u27BF\\u27A1\\u24C2\\u25B6\\u25C0\\u2600\\u2705\\u21AA\\u21A9]', // \n            '[\\u203C\\u2049\\u2122\\u2328\\u2601\\u260E\\u261d\\u2620\\u2626\\u262A\\u2638\\u2639\\u263a\\u267B\\u267F\\u2702\\u2708]',\n            '[\\u2194-\\u2199]',\n            '[\\u2B05-\\u2B07]',\n            '[\\u2934-\\u2935]',\n            '[\\u2795-\\u2797]',\n            '[\\u2709-\\u2764]',\n            '[\\u2622-\\u2623]',\n            '[\\u262E-\\u262F]',\n            '[\\u231A-\\u231B]',\n            '[\\u23E9-\\u23EF]',\n            '[\\u23F0-\\u23F4]',\n            '[\\u23F8-\\u23FA]',\n            '[\\u25AA-\\u25AB]',\n            '[\\u25FB-\\u25FE]',\n            '[\\u2602-\\u2618]',\n            '[\\u2648-\\u2653]',\n            '[\\u2660-\\u2668]',\n            '[\\u26A0-\\u26FA]',\n            '[\\u2692-\\u269C]'\n        ];\n        return new RegExp(emojiRanges.join('|'), 'g');\n    }\n\n}\n",
    "export class NgxEmojiUtils {\n\n    public static arrayOfNodeList<T extends Node>(list: NodeListOf<T>): T[] {\n        let result: T[] = [];\n        for (let i = 0; i < list.length; i++) {\n            result.push(list.item(i))\n        }\n        return result;\n    };\n\n    public static isBlockNode(node: Node): boolean {\n        if (!(node instanceof HTMLElement)) {\n            return false;\n        }\n        if (node instanceof HTMLDivElement) {\n            return true;\n        }\n        return window.getComputedStyle(node, '').display == 'block';\n    }\n\n    /**\n     * String replace all implementation\n     *\n     * See: https://stackoverflow.com/a/1144788/1617101\n     */\n    public static replaceAll(str: string, find: string, replace: string): string {\n        find = find.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\n        return str.replace(new RegExp(find, 'g'), replace);\n    }\n\n    public static filterHtml(html: string, allowTags: string[] = [], withCommands: boolean = false): string {\n        allowTags = allowTags.map(function (value) {\n            return value.toUpperCase();\n        });\n        let tmp = document.createElement(\"div\");\n        tmp.innerHTML = html;\n        html = '';\n        let rf = function (nodes: NodeList): void {\n            for (let node of NgxEmojiUtils.arrayOfNodeList(nodes)) {\n                if (node.nodeType == node.ELEMENT_NODE) {\n                    if (allowTags.indexOf(node.nodeName) > -1\n                        || withCommands && (node as HTMLElement).classList.contains('command')) {\n                        if (node instanceof HTMLAnchorElement) {\n                            html += '<' + node.nodeName.toLowerCase() + ' href=\"' + node.getAttribute('href') + '\">';\n                        } else if (withCommands && (node as HTMLElement).classList.contains('command')) {\n                            html += '<' + node.nodeName.toLowerCase() + ' class=\"command\">';\n                        } else {\n                            html += '<' + node.nodeName.toLowerCase() + '>';\n                        }\n                        rf(node.childNodes);\n                        html += '</' + node.nodeName.toLowerCase() + '>';\n                    } else {\n                        rf(node.childNodes);\n                    }\n                } else {\n                    html += node.textContent;\n                }\n            }\n        };\n        rf(tmp.childNodes);\n        tmp.remove();\n        return html;\n    }\n\n}\n",
    "import { Injectable } from '@angular/core';\nimport { Subject } from \"rxjs/Subject\";\nimport { NgxEmojiComponent } from \"./ngx-emoji.component\";\nimport { NgxEmojiModule } from \"./ngx-emoji.module\";\n\nexport interface NgxEmoji {\n    unified: string;\n    category: string;\n    bundle: number;\n}\n\n@Injectable()\nexport class NgxEmojiService {\n    protected static emojis: NgxEmoji[] = null;\n    public readonly onEmojiPicked: Subject<string> = new Subject<string>();\n    protected activeComponent: NgxEmojiComponent;\n\n    public static getEmojis(): NgxEmoji[] {\n        if (this.emojis === null) {\n            this.emojis = require('ngx-emoji/emojis.json');\n        }\n        return this.emojis;\n    }\n\n    public setActiveComponent(component: NgxEmojiComponent): void {\n        this.activeComponent = component;\n    }\n\n    public isActiveComponent(component: NgxEmojiComponent): boolean {\n        return component === this.activeComponent;\n    }\n\n    public static loadEmoji(emoji: string): void {\n        let bundleId = this.getEmojiBundle(emoji);\n        if (bundleId !== null && !this.isCssBundleLoaded(bundleId)) {\n            this.loadCssBundle(bundleId);\n        }\n    }\n\n    protected static getEmojiBundle(emoji: string): number {\n        for (let e of NgxEmojiService.getEmojis()) {\n            if (e.unified == emoji) {\n                return e.bundle;\n            }\n        }\n        return null;\n    }\n\n    public static loadCssBundle(bundleId: number): void {\n        if (!this.isCssBundleLoaded(bundleId)) {\n            let id = 'ngx-emoji-bundle-' + bundleId;\n            let head = document.getElementsByTagName('head')[0];\n            let link = document.createElement('link');\n            link.id = id;\n            link.rel = 'stylesheet';\n            link.type = 'text/css';\n            link.href = NgxEmojiModule.getEmojiBundlesPath() + 'ngx-emoji-b' + bundleId + '.min.css';\n            link.media = 'all';\n            head.appendChild(link);\n        }\n    }\n\n    public static isCssBundleLoaded(bundleId: number): boolean {\n        return (document.getElementById('ngx-emoji-bundle-' + bundleId)) ? true : false;\n    }\n\n    public recentPush(emoji: string): void {\n        let recent = this.getRecent();\n        if (recent.indexOf(emoji) > -1) {\n            return;\n        }\n        recent = [emoji].concat(recent)\n            .slice(0, NgxEmojiModule.getRecentMax());\n        window.localStorage.setItem('ngx-emoji-recent', recent.join(':'));\n    }\n\n    public getRecent(): string[] {\n        let recent = window.localStorage.getItem('ngx-emoji-recent');\n        if (!recent) {\n            return [];\n        }\n        return recent.split(':');\n    }\n\n}\n"
  ],
  "names": [
    "ElementRef",
    "HostListener",
    "Output",
    "Input",
    "EventEmitter",
    "Subscription",
    "Injectable",
    "Subject$1"
  ],
  "mappings": ";;;;;;;;;;;;;;;;ASAA;;;;;;;AAkBA,IAAA,eAAA,kBAAA,YAAA;IACA,SAAA,eAAA,GAAA;QACA,IAAA,CAAA,aAAA,GAAA,IAAAO,eAAA,EAAA,CAAA;KACA;;;;;;YAGA,IAAA,CAAA,MAA8B,GAA9B,OAAA,CAAA,uBAAA,CAAA,CAAA;SACA;;;;;;;IAIA,eAAA,CAAA,SAA6B,CAA7B,kBAAA,GAAA,UAAA,SAAA,EAAA;;;;;;;IAIA,eAAA,CAAA,SAAY,CAAZ,iBAAA,GAAA,UAA2C,SAA3C,EAAA;QACQ,OAAR,SAAA,KAA6B,IAAI,CAAC,eAAlC,CAAA;KACA,CAAA;;;;;;;QAIA,IAAA,QAAA,KAAmC,IAAnC,IAAA,CAAA,IAAA,CAAA,iBAAA,CAAA,QAAA,CAAA,EAAA;YACA,IAAA,CAAA,aAAA,CAAA,QAAsB,CAAtB,CAAA;SACA;KACA,CAAA;;;;;;;;;gBAMA,IAAA,CAAA,CAAA,OAAA,IAAgD,KAAhD,EAAA;oBACA,OAAA,CAAA,CAAA,MAAmC,CAAC;iBACpC;aACA;SACA;QACA,OAAA,KAAA,EAAsB,EAAE,GAAxB,GAAA,EAAA,KAAA,EAAA,KAAA,EAAA,CAAA,EAAA;gBACgB;YACJ,IAAI;gBACA,IAAhB,EAAA,IAAA,CAAA,EAAA,CAAA,IAAA,KAAuC,EAAvC,GAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAA0D,CAA1D,IAA+D,CAA/D,EAAA,CAAA,CAAA;aACA;oBACA,EAAA,IAAA,GAA6B,EAA7B,MAAA,GAAA,CAAA,KAAA,CAAA,EAAA;SACS;;;;;;;;;;;;;YAOT,IAAA,CAAA,EAAA,GAAA,EAAA,CAAA;YACA,IAAA,CAAA,GAAA,GAAA,YAAkB,CAAlB;YACY,IAAZ,CAAA,IAAA,GAAA,UAAA,CAAA;YACY,IAAZ,CAAA,IAAA,GAAA,cAAA,CAAA,mBAAA,EAAA,GAAA,aAAA,GAAA,QAAA,GAAA,UAAA,CAAA;YACA,IAAA,CAAA,KAAA,GAAA,KAAA,CAAA;YACA,IAAA,CAAiB,WAAjB,CAAA,IAAA,CAAA,CAAA;SACA;KACA,CAAA;;;;;IAGW,eAAX,CAAA,iBAAA,GAAA,UAAA,QAAA,EAAA;QACQ,OAAR,CAAA,QAAA,CAAA,cAAA,CAAA,mBAAA,GAAA,QAAA,CAAA,IAAA,IAAA,GAAA,KAAA,CAAA;KACA,CAAA;;;;;;QAjEA,qBAA8C,MAA9C,GAAA,IAAA,CAAA,SAAA,EAAA,CAAA;;YAFC,OAAD;;;;;;;;;IDXA,eAAA,CAAA,SAAA,CAAA,SAAA,GAAA,YAAA;;;;;;KAEA,CAAA;IACA,OAAA,eAAA,CAAA;CACA,EAAA,CAAA,CAAA;AACA,eAAA,CAAA,MAAA,GAAA,IAA6B,CAA7B;AACA,eAAA,CAAA,UAAA,GAAA;IACA,EAAA,IAAA,EAAAD,eAAsB,EAAtB;;;;;;;;AAIA,IAAA,aAAA,kBAAA,YAAA;IACA,SAAA,aAAA,GAAA;KACA;;;;;;;;;;;;;;;;;;;;;;;;;QAiBA,OAAA,MAA4B,CAAC,gBAA7B,CAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,IAAA,OAAA,CAAA;KACA,CAAA;;;;;;;;;;IAUA,aAAA,CAAA,UAAA,GAAA,UAAA,GAAA,EAAA,IAAA,EAAA,OAAA,EAAA;QACA,IAAA,GAAA,IAAA,CAAA,OAAA,CAA4B,6BAA5B,EAAA,MAAA,CAAA,CAAA;QACA,OAAA,GAAA,CAAA,OAAA,CAAA,IAAA,MAAA,CAAA,IAA0C,EAA1C,GAA+C,CAA/C,EAAA,OAAA,CAAA,CAAA;KACA,CAAA;;;;;;;IAKA,aAAA,CAAA,UAAA,GAA+B,UAA/B,IAAA,EAAA,SAAA,EAAA,YAAA,EAAA;QACA,IAAA,SAAA,KAAA,KAAA,CAAgC,EAAhC,EAAoC,SAApC,GAAA,EAAA,CAAA,EAAqD;QACrD,IAAA,YAAA,KAAA,KAAA,CAAA,EAAA,EAAA,YAAA,GAAA,KAAA,CAAA,EAAA;QAAA,SAAA,GAAA,SAAA,CAAA,GAAA,CAAA,UAAA,KAAA,EAAA;YACA,OAAA,KAAwB,CAAxB,WAAA,EAAA,CAAA;SACA,CAAA,CAAA;QACA,qBAAA,GAAA,GAAA,QAAA,CAAA,aAAA,CAAA,KAAA,CAAA,CAAA;QAAA,GAAA,CAAA,SAAuB,GAAvB,IAAA,CAAA;QACA,IAAA,GAAA,EAAA,CAAA;QACA,qBAAA,EAAA,GAAA,UAAA,KAAA,EAAA;YACA,IAAA;gBACA,KAAA,IAAA,EAAA,GAAA,QAAA,CAAA,aAAA,CAAA,eAAA,CAAA,KAAA,CAAA,CAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAA;oBACA,IAAA,IAAA,GAAA,EAAA,CAAA,KAAA,CAAA;oBACoB,IAApB,IAAA,CAAA,QAAA,IAAA,IAAA,CAAA,YAAA,EAAA;wBACA,IAAA,SAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA,CAAA,GAAA,CAAA,CAAA;;4BAGA,IAAA,IAAA,YAAA,iBAAA,EAAA;;;;;;iCDhEA;;;;;yBAKgC;6BAChC;4BACA,EAAA,CAAA,IAAA,CAAA,UAAA,CAAA,CAAA;yBACA;qBACA;yBACA;;;;;;oBAGA;gBACgB,IAAhB;oBACA,IAAwB,EAAxB,IAAA,CAA+B,EAA/B,CAAA,IAAA,KAAA,EAAA,GAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,CAAA,IAAA,CAAA,EAAA,CAAA,CAAA;iBACA;wBACA,EAAA,IAAA,GAAA,EAAA,MAAA,GAAA,CAAA,KAAA,CAAA,EAAA;aACA;YACY,IAAZ,GAAmB,EAAnB,EAAA,CAAA;SACS,CAAC;QACF,EAAR,CAAA,GAAA,CAAA,UAAA,CAAA,CAAA;QACA,GAAA,CAAY,MAAZ,EAAoB,CAApB;QACA,OAAA,IAAA,CAAA;KAAA,CAAA;IACA,OAAA,aAAwB,CAAC;CACzB,EAAA,CAAA,CAAA;;;;;;;;;;;;IAWA,cAAA,CAAA,cAAA,GAAA,UAAA,KAAkC,EAAlC;QACA,eAAA,CAAwB,SAAxB,CAAA,KAAuC,CAAC,CAAxC;QACA,OAAe,kCAAkC,GAAG,KAApD,GAAA,IAAgE;YAChE,qBAAA;YACA,OAAmB,GAAnB,IAAA,CAA2B,aAA3B,CAAA,KAAA,CAAA,GAAA,IAAA;;;;;;;IAIA,cAAA,CAAA,aAAA,GAAA,UAAA,KAAA,EAAA;QACQ,KAAK,GAAb,KAAA,CAAA,IAAA,EAAA,CAAA;QACA,IAAY,KAAK,CAAC,MAAlB,IAAA,CAA6B,EAA7B;YACA,OAAA,GAAA,CAAA;SACA;QACA,qBAAA,UAAA,GAAA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,CAAA,GAAA,CAAA,UAAA,KAAA,EAAA;YACgB,OAAhB,QAAA,CAAA,IAAA,GAAA,KAAA,EAAA,EAAA,CAAgC,CAAC;SACjC,CAAA,CAAA;QACA,IAAA;YACA,KAAiB,GAAjB,MAAA,CAA2B,aAA3B,CAAA,KAAA,CAAA,MAAA,EAAA,UAAA,CAAA,CAAA;SACA;QACA,OAAA,KAAA,EAA0B;YAC1B,OAAA,CAAA,IAAA,CAAA,gBAAA,GAAA,KAAA,GAAA,UAAA,GAAA,KAAA,CAAA,OAAA,CAAA,CAAA;YACA,KAAA,GAAoB,GAApB,CAAA;;;;;;;;;IAMA,cAAA,CAAA,SAAA,GAAA,UAAA,KAAA,EAAA;QACQ,qBAAqB,CAA7B,GAAA,EAAA,CAAA;QACQ,qBAAR,EAAA,GAAA,EAAA,CAAA;;;;;;KAGA,CAAA;;;;;;;;;;QAOA,KAAA,GAAA,KAAA;aACa,MAAb,CAAA,UAA8B,IAAI,EAAlC;YACY,qBAAZ,CAAA,GAAA,QAAA,CAAA,IAAA,EAAA,EAAA,CAAA,CAAA;YACA,OAAA,EAAA,CAAA,IAAA,MAAA,IAAA,CAAA,IAAA,MAAA,CAAA,CAAA;SACA,CAAA;aACA,GAAA,CAAA,UAAA,IAAA,EAAA;YACA,qBAAA,GAAA,GAAsB,MAAM,CAA5B;YACY,OAAZ,GAAA,CAAA,SAAgC,CAAC,CAAC,EAAlC,GAAA,CAAwC,MAAM,GAA9C,IAAA,CAAA,MAAA,CAAA,GAAA,IAAA,CAAA;SACA,CAAA,CAAA;QACA,OAAA,KAAA,CAAA,IAAA,CAAA,GAAA,CAAA,CAAA,WAAA,EAAA,CAAA;KACA,CAAA;;;;;;;;SAQA,CAAA,CAAqB;QACb,IAAR,GAAA,aAAA,CAAY,UAAZ,CAAuB,IAAvB,EAAA,QAAA,EAAA,EAAA,CAAA,CAAA;QACA,OAAA,IAAA,CAAA;KACA,CAAA;;;;;IAOA,cAAA,CAAA,WAAA,GAAA,UAAA,IAAA,EAAA;QACA,IAAY,EAAZ,IAAA,YAAA,WAAA,CAAA,EAAA;YACY,OAAZ,KAAA,CAAA;SACA;QACA,OAAA,IAAA,CAAA,SAAA,CAAA,QAAA,CAAA,WAAA,CAAA,CAAA;KACA,CAAA;;;;;IAMA,cAAA,CAAA,aAAA,GAAA,UAAA,IAAA,EAAA;QACA,IAAY,CAAZ,IAAA,CAAA,WAA6B,CAA7B,IAAA,CAAA,EAAA;YACY,OAAZ,IAAA,CAAA;SACA;QACA,qBAA6B,SAA7B,GAAA,EAAA,IAAA,GAAA,SAAA,CAAA;QACA,qBAA6B,KAA7B,GAAA,IAAA,CAAA;QACA,KAAA,qBAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,SAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;YACY,IAAZ,SAAA,CAAA,IAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAA,CAAA,EAAA,EAAA,CAAA,IAAA,YAAA,EAAA;gBACA,KAAA,GAAA,SAAA,CAAA,IAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAA,EAAA,CAAA,CAAA;gBACA,MAAA;aACA;SACA;QACA,OAAA,KAAA,CAAA;KACA,CAAA;;;;;IAKA,cAAA,CAAmB,aAAnB,GAAA,YAA+C;QAC/C,qBAAA,WAAA,GAAA;YAEA,8BAAA;;;;;;YDvIA,+DAAA;;;;YAQA,8FAAA;YAAA,iDAAA;YAHA,qCAAA;YAKA,8FAAA;YACA,0GAAA;YACY,iBAAZ;YACA,iBAAA;;;;;;YAGA,iBAAA;YACY,iBAAiB;YACjB,iBAAZ;YACA,iBAAA;;;;;YAGA,iBAAA;YACA,iBAAA;;;;;;;;;;;AAOA,IAAA,eAAA,kBAAA,YAAA;;;;IAIA,SAAA,eAAA,CAAA,aAAA,EAAA;QACA,IAAA,CAAA,aAAA,GAA6B,aAA7B,CAAA;QACA,IAAA,CAAA,UAAA,GAAA,IAAAF,iBAAA,EAAA,CAAA;QACA,qBAAA,UAAA,GAAA,IAAA,CAAA,UAAA,CAAA;QACA,aAAA,CAAsB,gBAAtB,CAAA,oBAAA,EAAA,UAAsE,KAAK,EAAE;YAC7E,UAAsB,CAAtB,IAAA,mBAAA,KAAA,EAAA,CAAA;SACA,CAAA,CAAA;KACA;IACA,MAAA,CAAA,cAAA,CAAA,eAAA,CAAA,SAAA,EAAA,iBAAA,EAAA;;;;;;;;;;;QAOQ,GAAR,EAAa,UAAb,QAAA,EAAA;YACA,IAAA,QAAA,IAAA,IAAe,CAAf,eAAA,EAAA;gBACA,IAAA,CAAqB,aAArB,CAAA,YAAA,CAAA,iBAAA,EAAA,QAAA,GAAA,MAAA,GAAA,OAAA,CAAA,CAAA;aACA;SACA;QACA,UAAA,EAAA,IAAA;QACA,YAAoB,EAApB,IAAA;KACA,CAAA,CAAA;;;;;;IAMA,eAAA,CAAA,SAAA,CAAA,WAAA,GAAA,UAAA,OAAA,EAAA,KAAA,EAAA;QACA,qBAAA,QAAA,GAAA,IAAA,CAAA,eAAA,CAAA;QACA,IAAA,CAAA,eAAA,GAAA,IAAA,CAAA;QAAA,qBAAA,MAAA,GAAA,KAAA,CAAA;QACA,QAAA,OAAA;YACA,KAAA,MAAA;gBACA,MAAA,GAAA,IAAA,CAAA,cAAA,CAAA,MAAA,CAAA,CAAoC;gBACpC,MAAA;YACA,KAAA,KAAA;gBACA,MAAA,GAAA,IAAA,CAAA,cAAA,CAAA,KAAA,CAAA,CAAA;gBACA,MAAA;YACA,KAAA,SAAA;gBACA,MAAA,GAAA,IAAA,CAAA,cAAA,CAAA,MAAA,EAAA,CAAA,EAAA,IAAA,EAAA,OAAA,EAAA,KAAA,EAAA,SAAA,EAAA,CAAA,CAAA,CAAA;gBACA,MAAA;YAAA;gBACA,MAAA,GAAA,QAAiC,CAAjC,WAA6C,CAA7C,OAAA,EAAA,KAAA,EAAA,KAAA,CAAA,CAAA;gBACA,MAAA;SACA;QACA,IAAA,CAAA,eAAA,GAAA,QAAA,CAAA;QACQ,OAAO,MAAf,CAAA;KACA,CAAA;;;;;;;;;;QD/EA,GAAA,CAAA,SAAA,GAGA,IAHA,CAAA,aAAA,CAAA,SAAA,CAAA;;;;gBAM2B,KAA3B,IAAA,EAAA,GAAA,QAAA,CAAA,aAAA,CAAA,eAAA,CAAA,KAAA,CAAA,CAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAA;oBAAkC,IAAlC,IAAA,GAAmD,EAAnD,CAAA,KAAA,CAAA;;;;;;;gCAIA,KAAA,IAAA,YAAA,GAAA,QAAA,CAAA,UAAA,CAAA,EAAA,cAAA,GAAA,YAAA,CAAA,IAAA,EAAA,EAAA,CAAA,cAAA,CAAA,IAAA,EAAA,cAAA,GAAA,YAAA,CAAA,IAAA,EAAA,EAAA;oCACA,IAAA,IAAA,GAAA,cAAA,CAAA,KAAA,CAAA;oCACoC,IAAI,IAAxC,GAAA,GAAA,IAAA,CAAA,IAAA,GAAA,IAAA,GAAA,IAAA,CAAA,KAAA,GAAA,GAAA,CAAA;iCACA;6BACA;4BACA,OAAmC,KAAnC,EAA0C,EAA1C,GAAA,GAAA,EAAA,KAAA,EAAA,KAAA,EAAA,CAAA,EAAA;oCACA;gCACA,IAAA;oCACoC,IAApC,cAAA,IAAA,CAAA,cAAA,CAAA,IAAA,KAAA,EAAA,GAAA,YAAA,CAAA,MAAA,CAAA,EAAA,EAAA,CAAA,IAAA,CAAA,YAAA,CAAA,CAAA;iCACA;wCACA,EAAA,IAAA,GAAA,EAAA,MAAA,GAAA,CAAA,KAAA,CAAA,EAAA;6BACA;4BAC4B,IAA5B,IAAA,GAAA,CAAwC;yBACxC;6BACA;4BAC4B,IAA5B,IAAA,GAAA,GAAA,QAAA,CAAA;4BACA,KAAA,qBAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,IAAA,CAAA,UAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;gCACA,qBAAA,IAAA,GAAA,IAAA,CAAA,UAAA,CAAA,IAAA,CAAA,CAAA,CAAA,CAAA;gCACA,IAAA,IAAwC,GAAxC,GAAA,IAAA,CAAA,IAAA,GAA0D,IAA1D,GAAA,IAAA,CAAA,KAAA,GAAA,GAAA,CAAA;6BACA;4BACA,IAAA,IAAoC,GAApC,CAAA;yBACA;wBACA,EAAA,CAAA,IAAA,CAAA,UAAA,CAAA,CAAA;wBACA,IAAA,IAAA,IAAoC,GAApC,QAAA,GAAA,GAAA,CAAA;qBACA;yBACA;wBACA,IAAA,IAAA,IAAA,CAAA,WAAA,CAAA;qBACA;;;;;gBAGA,IAAA;oBACoB,IAApB,EAAA,IAAA,CAAA,EAAiC,CAAjC,IAAA,KAAA,EAAA,GAAA,EAAkD,CAAC,MAAnD,CAAA,EAAA,EAAA,CAAA,IAAA,CAAA,EAAA,CAAA,CAAA;;;;;;QAGA,EAAA,CAAA,GAAA,CAAsB,UAAtB,CAAA,CAAA;QACQ,GAAR,CAAY,MAAZ,EAAoB,CAAC;;QAMrB,OAAA,IAAA,CAAA;;;;;;;;;;;;IDvCA,SAAA,iBAAkC,CAAiB,OAAnD,EAAA;QAC2B,IAA3B,CAAA,OAAA,GAAA,OAAA,CAAA;KAPA;;;;;;;;;;gBAWA,MAAA;YACA,KAAA,kBAAA,CAAmB,MAAnB;gBACA,IAAA,CAAA,OAAA,CAAY,WAAZ,CAAA,QAAgC,CAAC,CAAjC;gBACA,MAAA;YACA,KAAA,kBAAA,CAAA,SAAmC;gBAEnC,IAAA,CAAA,OAAA,CAAA,WAAA,CAAA,WAAA,CAAA,CAAA;gBACA,MAAA;YACA,KAAA,kBAAA,CAAA,GAAA;gBACgB,IAAhB,CAAA,OAA4B,CAA5B,WAAA,CAAA,KAAA,CAAA,CAAgD;gBAChD,MAAA;YACA,KAAA,kBAAA,CAAA,IAAA;gBACgB,IAAhB,CAAA,OAAA,CAAA,WAAA,CAAA,MAAA,CAAA,CAAA;gBACgB,MAAM;YACtB,KAAA,kBAAA,CAAA,MAAA;gBACA,IAAA,CAAA,OAAA,CAAA,WAAA,CAAA,eAAA,CAAA,CAAA;gBACA,MAAA;YACY,KAAZ,kBAAmC,CAAnC,OAAA;gBACA,IAAA,CAAA,OAAA,CAAA,WAAA,CAAA,SAAA,CAAA,CAAA;;YAIY,KAAZ,kBAAA,CAAA,QAA4C,CAAC;YACjC,KAAZ,kBAAA,CAAA,GAAuC;gBACvC,IAAA,CAAA,OAA4B,CAAC,WAAW,CAAxC,YAAA,EAAA,KAAA,CAAA,CAAA;gBACA,MAAA;SAEA;KACA,CAAA;;;;IAIA,iBAAA,CAAA,SAAA,CAAA,aAAA,GAAA,YAAA;QACA,IAAY,CAAZ,OAAA,CAAA,WAAgC,CAAhC,iBAAA,CAAA,CAAA;KACA,CAAA;;;;;IAKA,iBAAA,CAAA,SAAA,CAAA,WAAA,GAAA,UAAwD,KAAK,EAAE;QAC/D,IAAY,CAAZ,OAAA,CAAA,WAAA,CAAA,YAAA,EAAA,cAAA,CAAA,cAAA,CAA6E,KAA7E,CAAA,CAAA,CAAA;KACA,CAAA;;CAGA,EAAA,CAAA,CAAA;;;;;AAKA,IAAA,eAAA,kBAAA,YAAgC;;;;;IAKhC,SAAA,eAA4B,CAA5B,OAAA,EAAA,SAAA,EAAiD;QACjD,IAAA,CAAA,OAAA,GAAA,OAAA,CAAA;QACA,IAAA,CAAA,SAAA,GAAA,SAAkC,CAAlC;QACA,IAAA,CAAA,WAAA,GAAA;YACA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,QAAA,EAAA,IAAyC;YACzC,QAAA,EAAA,MAAA,EAAA,KAAA,EAAA,GAAA;SACA,CAAA;KACA;;;;;;IAIA,eAAA,CAAA,SAAA,CAAA,MAAA,GAAA,UAAgC,IAAhC,EAAA,QAAA,EAAA;QACA,qBAAA,OAAA,GAAA,IAAA,CAAA;QACA,qBAAA,aAAA,GAAA,IAAA,CAAA,OAAA,CAAA,aAAA,CAAA;QACA,qBAA6B,SAA7B,GAAA,MAAA,CAAA,YAAA,EAAA,CAAA;QACA,qBAAA,aAA0C,GAA1C,CAAA,SAAuD,CAAvD,UAAA,IAAA,SAAA,CAAA,UAAA,CAAA,CAAA,CAAA,GAAA,IAAA,CAAA;QACA,IAAA,CAAA,KAAA,CAAA,OAAA,CAAA,QAAA,CAAA,EAAsC;YACtC,QAAA,GAAA,EAAA,CAAA;SACA;QACA,QAAA,GAAA,QAAA,CAA4B,GAA5B,CAAA,UAAA,MAAgD,EAAhD;YACA,OAAA;gBACA,MAAA,EAAwB,MAAxB,CAAA,MAAA;gBACA,MAAA,EAAA,MAAA,CAAA,MAAqC;gBACrC,IAAA,EAAA,OAAA,CAAA,mBAAA,CAAA,MAAA,CAAA,IAA6D,CAA7D;gBACA,GAAA,EAAA,MAAA,CAAA,GAAA;aACA,CAAA;SACA,CAAA,CAAA,MAAA,CAAA,UAAA,MAAA,EAAA;YACA,OAAA,MAAyB,CAAzB,IAAA,KAAA,IAAA,CAAA;SACA,CAAA,CAAA;;QAEA,IAAA,GAAA,aAAA,CAAA,UAAA,CAAA,IAAA,CAAA,CAAA;QACA,IAAY,GAAG,aAAa,CAAC,UAAU,CAAC,IAAxC,EAAA,QAAA,EAAA,GAAA,CAAA,CAAA;QACA,IAAY,GAAZ,aAAA,CAA6B,UAA7B,CAAA,IAAA,EAAA,IAAA,EAAA,cAAA,CAAA,CAAA;QACA,IAAA,GAAA,cAAA,CAAA,sBAAA,CAAA,IAAyD,CAAC,CAAC;QAC3D,qBAAA,UAAA,GAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,CAAA;QACA,IAAY,GAAZ,EAAA,CAAA;QACA,IAAY;YACA,KAAZ,IAAA,YAAA,GAAA,QAAA,CAAA,UAAA,CAAA,EAAA,cAAA,GAAA,YAAA,CAAA,IAAA,EAAA,EAAA,CAAA,cAAA,CAAA,IAAA,EAAA,cAAA,GAAA,YAAA,CAAA,IAAA,EAAA,EAAA;gBACgB,IAAhB,SAAA,GAAA,cAAA,CAAA,KAAA,CAAA;gBACA,IAAoB,SAApB,CAAA,MAAA,IAAA,CAAA,EAAA;oBACoB,SAApB,GAAA,MAAA,CAAA;iBACA;gBACA,IAAoB,SAApB,IAAA,GAAA,EAAA;oBACoB,SAApB,GAAA,QAAA,CAAA;iBACA;gBACA,IAAoB,IAAI,OAAxB,GAAkC,SAAlC,GAAA,QAAA,CAAA;aACA;SACA;QACA,OAAA,KAAA,EAAA,EAAA,GAAA,GAAA,EAAA,KAAA,EAAA,KAAA,EAAA,CAAA,EAAA;gBAEA;YACY,IAAZ;gBACA,IAAA,cAAA,IAAA,CAAA,cAAA,CAAA,IAAA,KAAA,EAAA,GAAA,YAAA,CAAA,MAAA,CAAA,EAAA,EAAA,CAAA,IAAA,CAAA,YAAA,CAAA,CAAA;aACA;;;;;YAGA,IAAA,CAAA,OAAA,CAAA,aAAA,CAAA,WAAA,CAAA,QAAA,CAAA,cAAA,CAAA,EAAA,CAAA,CAAA,CAAA;SACA;;QAEA,qBAAA,UAAA,GAAyB,KAAzB,CAAA;QACA,IAAA,OAAA,GAAA,UAAA,MAAA,EAAA;YACA,qBAAA,KAAA,GAAwB,QAAQ,CAAhC,WAAA,EAAA,CAAA;YACA,qBAAA,MAAuC,GAAvC,CAA2C,CAA3C;YACA,qBAAiC,EAAjC,GAAsC,UAAtC,KAAA,EAAA;gBACA,KAAA,qBAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAqD,KAArD,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;oBACA,qBAAA,IAAA,GAAA,KAAA,CAAA,IAAA,CAAA,CAAA,CAAA,CAAA;oBACA,IAAA,cAAA,CAAA,WAAA,CAAA,IAAA,CAAA,EAAA;wBACA,qBAAA,UAAA,GAAA,cAAA,CAAA,aAAA,CAAA,cAAA,CAAA,aAAA,CAAA,IAAA,CAAA,CAAA,CAAA,MAAA,CAAA;wBACA,IAAA,MAAA,IAAA,MAAA,CAAA,MAAA,IAAA,MAAA,GAAA,UAAA,IAAA,MAAA,CAAA,MAAA,EAAA;4BACA,KAAA,CAAA,cAAA,CAAA,IAAA,CAAA,CAAuD;yBACvD;wBACA,IAA4B,MAAM,IAAlC,MAAA,CAAA,MAAA,GAAA,MAAA,CAAA,MAAA,IAAA,MAAA,GAAA,UAAA,IAAA,MAAA,CAAA,MAAA,GAAA,MAAA,CAAA,MAAA,EAAA;4BAC4B,KAA5B,CAAkC,WAAlC,CAAA,IAAA,CAAA,CAAA;4BAC4B,UAA5B,GAAyC,IAAzC,CAAA;yBACyB;wBACzB,MAAA,IAAA,UAAA,CAAA;qBACA;yBACA;wBACA,IAA4B,IAAI,CAAhC,aAAA,EAAA,EAAA;4BAC4B,EAA5B,CAAA,IAAA,CAAoC,UAApC,CAAA,CAAA;yBACA;6BACA,IAAA,IAAA,CAAA,QAAA,IAAA,IAAA,EAAA;4BACA,qBAAA,UAAA,GAAA,IAAA,CAAA,WAAA,CAAA,MAAA,CAAA;4BACA,IAAgC,MAAhC,IAAA,MAAA,CAAA,MAAA,IAAA,MAAA,GAAA,UAAA,IAAA,MAAA,CAAA,MAAA,EAAA;gCACgC,KAAK,CAAC,QAAtC,CAAA,IAAA,EAAA,MAAA,CAAA,MAAA,GAAA,MAAA,CAAA,CAAA;6BACA;4BAC4B,IAA5B,MAAA,IAA0C,MAA1C,CAAA,MAAA,GAAA,MAAA,CAAA,MAAA,IAAA,MAAA,GAAA,UAAA,IAAA,MAAA,CAAA,MAAA,GAAA,MAAA,CAAA,MAAA,EAAA;gCACA,KAAA,CAAA,MAAA,CAAA,IAAA,EAAA,MAAA,CAAA,MAAA,GAAA,MAAA,CAAA,MAAA,GAAA,MAAA,CAAA,CAAA;gCACA,UAAA,GAAA,IAAA,CAAA;6BACA;4BACA,MAAA,IAAA,UAAA,CAAA;yBACA;wBACA,IAA4B,aAA5B,CAAA,WAAqD,CAArD,IAAA,CAAA,EAAA;4BAC4B,MAAM,EAAE,CAApC;4BAC4B,IAA5B,MAAA,CAAA,MAAA,GAAA,MAAA,CAAA,MAAA,IAAA,MAAA,EAAA;gCACA,KAAA,CAAA,WAAA,CAAA,IAAA,CAAA,SAAA,CAAA,CAAA;gCACA,UAAA,GAAA,IAAA,CAAA;6BACA;yBACA;qBACA;iBACA;aACA,CAAA;YACA,EAAA,CAAA,aAAA,CAAA,UAAA,CAAA,CAAA;YACA,IAAA,CAAA,UAAA,EAAA;gBACA,KAAA,CAAA,WAAA,CAAA,aAA+C,CAA/C,SAAA,CAAA,CAA2D;aAC3D;YACA,SAAA,CAAA,eAAqC,EAArC,CAAA;YACA,SAAA,CAAA,QAAA,CAAA,KAAA,CAAA,CAAA;YACA,QAAA,MAAA,CAAA,IAAA;gBACA,KAAA,kBAAA,CAAwC,QAAxC;oBACA,MAA0B,CAAC,SAA3B,CAAA,UAAA,CAAA,kBAAA,CAAA,QAAA,EAAA,MAAA,CAAA,GAAA,CAAA,CAAA;oBACA,MAAA;gBACA,KAAA,kBAAuC,CAAvC,GAA2C;oBAC3C,MAAA,CAA2B,SAA3B,CAAA,UAAA,CAAA,kBAAA,CAAA,GAAA,EAAwE,KAAxE,CAAA,aAAA,EAAA,CAAA,WAAA,CAAA,CAAA;oBACA,MAAA;gBACA;oBACA,MAAA,CAAA,SAAoC,CAApC,UAAA,mBAAA,MAAA,CAAA,IAAA,EAAA,CAAA;oBACA,MAAA;aACA;SACA,CAAA;QACA,IAAA,MAAA,GAAqB,IAArB,CAAA;QACA,IAAA;YACA,KAAA,IAAA,UAAA,GAAA,QAAA,CAAA,QAAA,CAAA,EAAA,YAAA,GAAA,UAAA,CAAA,IAAA,EAAA,EAAA,CAAA,YAAA,CAAA,IAAA,EAAA,YAAA,GAAA,UAAA,CAAA,IAAA,EAAA,EAAA;gBACA,IAAA,MAAA,GAAA,YAAA,CAAA,KAAA,CAAA;gBACA,OAAA,kBAAA,MAAA,CAAA,CAAA;aACA;SACA;QACA,OAAA,KAAA,EAAA,EAAA,GAAA,GAAA,EAAA,KAAA,EAAA,KAAA,EAAA,CAAA,EAAA;gBACA;YACA,IAAgB;gBACA,IAAhB,YAAA,IAAA,CAAA,YAAiD,CAAC,IAAlD,KAAA,EAAA,GAAA,UAAA,CAAA,MAAA,CAAA,EAAA,EAAA,CAAA,IAAA,CAAA,UAAA,CAAA,CAAA;aACa;oBACb,EAAA,IAAA,GAAA,EAAA,MAAA,GAAA,CAAA,KAAA,CAAA,EAAA;SACA;QACQ,SAAR,CAAA,eAAA,EAAA,CAAA;QACQ,IAAR,aAAyB,EAAE;YACf,SAAS,CAArB,QAAA,CAAA,aAAA,CAAA,CAAA;SACA;QACA,IAAY,GAAZ,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,CAAA;KACA,CAAA;;;;IAGA,eAAA,CAAA,SAAA,CAAA,WAAA,GAAA,YAAA;QACA,qBAAA,QAAA,GAAA,EAAA,CAAA;QACA,qBAAA,EAAA,GAAA,UAAA,KAAA,EAAA,MAAA,EAAA;YACA,IAAA;;;;;wBAGA,IAAA,QAAA,IAAA,GAAA,IAAA,QAAA,IAAA,QAAA,EAAA;4BAC4B,QAA5B,CAAA,IAAA,CAAA;;;;;yBAGA;wBACA,IAAA,QAAmB,IAAnB,GAAA,IAAA,QAAA,IAA0C,IAA1C,EAAgD;4BAChD,QAAA,CAAqC,IAArC,CAAA;gCACA,IAAA,EAAA,kBAAA,CAAA,MAAA;gCACA,MAAA,EAAwC,MAAxC;gCACA,MAAA,EAAA,IAAA,CAAA,WAAA,CAAA,MAAA;6BACA,CAAA,CAAA;yBACA;wBACA,IAAA,QAAA,IAAA,GAA2C,EAA3C;4BACA,QAAA,CAAA,IAAA,CAAA;gCACA,IAAA,EAAA,kBAAA,CAAA,SAAA;gCACA,MAAA,EAAA,MAAA;gCACA,MAAA,EAAA,IAAA,CAAA,WAAA,CAAA,MAAA;6BACY,CAAZ,CAAA;yBACA;wBACA,IAAA,QAAA,IAAA,QAAA,EAAA;;;;;;;wBAGA,IAAA,QAAwD,IAAxD,MAAA,EAAA;4BACA,QAAA,CAAA,IAAA,CAAA;gCACA,IAAA,EAAsC,kBAAtC,CAAA,IAAA;gCACA,MAAA,EAAA,MAAA;gCACA,MAAqB,EAArB,IAAA,CAAA,WAAA,CAAA,MAAA;6BACY,CAAZ,CAAc;yBACd;wBACA,IAAA,QAAA,IAAA,KAAA,EAAA;4BACA,QAAA,CAAqC,IAArC,CAA0C;gCACV,IAAhC,EAAsC,kBAAtC,CAAA,GAAA;gCACA,MAAA,EAAA,MAAA;gCACA,MAAA,EAAA,IAAA,CAAA,WAAA,CAAA,MAAA;6BACA,CAAA,CAAA;yBACA;wBAAA,IAAA,QAAA,IAAA,GAA6C,IAAI,IAAjD,YAAA,iBAAA;+BACA,IAAA,CAAoC,YAApC,CAAA,MAAA,CAAA,IAAA,IAAA,CAAA,WAAA,EAAA;4BAC4B,QAA5B,CAAA,IAAA,CAAA;gCACgC,IAAI,EAApC,kBAAwD,CAAxD,GAAA;gCACA,MAAA,EAAA,MAAA;gCAAA,MAAA,EAAA,IAAA,CAAA,WAAuD,CAAvD,MAAA;6BACA,CAAA,CAAA;yBACyB;wBAAzB,IAAA,QAAA,IAAA,GAAA,IAAA,IAAA,YAAA,iBAAA;+BACA,IAAA,CAAoC,YAApC,CAAA,MAAuD,CAAC,IAAxD,IAAA,CAAA,WAA4E,EAA5E;4BACA,QAAA,CAAA,IAAA,CAAA;gCACA,IAAA,EAAA,kBAAA,CAAA,QAAA;gCACA,MAAsC,EAAE,MAAxC;gCACA,MAAA,EAAA,IAAA,CAAA,WAAA,CAAA,MAAA;gCACgC,GAAhC,EAAA,IAAA,CAAA,WAAqD;6BACrD,CAAA,CAAA;yBACA;wBAAA,IAAA,IAAA,YAAA,WAAA,IAAA,IAAA,CAAA,SAAA,CAAA,QAAA,CAAA,SAAA,CAAA,EAAA;4BAC4B,QAA5B,CAAA,IAAyC,CAAC;gCAC1C,IAAA,EAAA,kBAAA,CAAA,OAAA;gCACA,MAAA,EAAA,MAA8C;gCACd,MAAhC,EAAA,IAAA,CAAA,WAAA,CAAA,MAAA;6BACA,CAAA,CAAA;yBACyB;qBACzB;oBACA,EAAA,CAAuB,IAAI,CAAC,UAAU,EAAtC,MAAA,CAAA,CAAA;oBACA,MAAA,IAAA,IAAkC,CAAC,WAAnC,CAAA,MAAA,CAAsD;iBACtD;aACA;YACA,OAAA,KAAA,EAAA,EAAA,GAAA,GAAA,EAAA,KAAA,EAAA,KAAA,EAAA,CAAA,EAAA;;gBAEgB,IAAI;oBACpB,IAAA,EAAA,IAAA,CAAA,EAAA,CAAA,IAAA,KAA2C,EAA3C,GAAA,EAAA,CAAA,MAAA,CAAA,EAAA,EAAA,CAAA,IAAA,CAAA,EAAA,CAAA,CAAA;iBACA;wBACA,EAAA,IAAA,GAAA,EAAA,MAAA,GAAA,CAAA,KAAA,CAAA,EAAA;aACA;YACA,IAAA,GAAA,EAAA,EAAuB,CAAvB;SACA,CAAA;QACA,qBAAA,GAAA,GAAA,QAAA,CAAA,aAAA,CAAA,KAAA,CAAA,CAAA;;QAEA,EAAA,CAAA,GAAA,CAAA,UAAA,EAAA,CAAA,CAAA,CAAA;QACA,GAAA,CAAA,MAAA,EAAA,CAAA;QACA,QAAA,GAAA,QAAA,CAAA,GAAA,CAAA,UAAA,MAAgD,EAAhD;YACA,IAAA,MAAA,CAAuB,IAAI,IAA3B,kBAAA,CAAA,QAA0D,EAA1D;gBACA,MAAA,CAAA,IAAA,GAAA,WAAA,CAAA;aACA;iBACA;gBACA,MAAA,CAAA,IAAA,GAAA,kBAAA,EAAA,MAAA,CAAA,IAAA,EAAA,CAAA,WAAA,EAAA,CAAA;aACA;YACY,OAAZ,MAAA,CAAA;SACA,CAAA,CAAA;QACQ,OAAO,QAAf,CAAA;;;;;;QAGA,OAAsB,aAAtB,CAAA,UAAA,CAAA,IAAA,CAAA,aAAA,EAAA,CAAA,CAAA;KACA,CAAA;;;;;;QAGA,IAAA,CAAA,SAAqC,GAArC,IAAA,CAAA,OAAA,CAAA,aAAA,CAAA,SAAA,CAAA;QACQ,IAAI;YACA,KAAZ,IAAA,EAAA,GAAA,QAAA,CAAA,aAAA,CAAA,eAAA,CAAiE,IAAjE,CAAA,oBAAA,CAAA,KAAA,CAAA,CAAA,CAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAA;gBACgB,IAAI,GAApB,GAAA,EAAA,CAAA,KAAA,CAAA;gBACA,IAAoB,CAAC,GAArB,CAAA,SAAkC,CAAC,QAAnC,CAA4C,WAA5C,CAAA,EAAA;;;;;;gBAGA,GAAA,CAAA,aAAA,CAAA,YAAA,CAAA,KAAA,EAAA,GAAA,CAAA,CAAA;gBACA,GAAmB,CAAnB,MAAA,EAAA,CAAA;aACA;SACS;QACD,OAAR,KAAoB,EAApB,EAAA,GAAA,GAAA,EAAA,KAAA,EAAA,KAAA,EAAA,CAAA,EAAA;gBACA;YACY,IAAZ;gBACgB,IAAhB,EAAA,IAAA,CAAA,EAAA,CAAA,IAAA,KAAA,EAAyC,GAAzC,EAA8C,CAAC,MAA/C,CAAA,EAAA,EAAA,CAAA,IAAA,CAAA,EAAA,CAAA,CAAA;aACA;oBACA,EAAA,IAAA,GAAA,EAAA,MAAA,GAAA,CAAA,KAAA,CAAA,EAAA;SACA;QACA,qBAA6B,MAA7B,GAAA,IAAA,CAAA,SAAA,CAAA;QACA,IAAY,CAAZ,MAAA,EAAA,CAAA;QACA,OAAA,MAAA,CAAA;QACA,IAAY,GAAZ,EAAiB,EAAjB,CAAA;KACA,CAAA;;;;;;IAMA,eAAA,CAAA,SAAA,CAAA,aAAA,GAAA,UAAA,WAAA,EAAA,YAAA,EAAA;QACA,IAAA,WAAuB,KAAvB,KAAA,CAAA,EAAA,EAAA,WAAA,GAAA,IAAA,CAAA,EAAA;QACA,IAAY,YAAZ,KAAA,KAAA,CAAA,EAAA,EAAA,YAAA,GAAA,KAAA,CAAA,EAAA;QACA,IAAY,CAAZ,WAAA,EAAA;YACA,WAAuB,GAAvB,IAAA,CAAA,OAAA,CAAA,aAAA,CAAA;SACA;QACA,qBAAA,IAAA,GAAoC,EAApC,CAAuC;QACvC,qBAAA,EAAA,GAAA,UAAA,KAAA,EAAA;YACY,IAAZ;gBACA,KAAA,IAAA,EAAA,GAAA,QAAA,CAAA,aAAA,CAAA,eAAA,CAAA,KAAA,CAAA,CAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAA,CAAA,EAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,EAAA,EAAA;oBACA,IAAA,IAAA,GAAA,EAAA,CAAA,KAAA,CAAA;oBACA,qBAAA,SAAA,GAAA,aAAA,CAAA,WAAA,CAAA,IAAA,CAAA,CAAA;oBACA,IAAA,IAA4B,CAA5B,QAAA,IAAA,KAAA,EAAA;wBACA,SAAA,GAAA,KAAA,CAAA;qBACA;;;;yBAEA,IAAA,IAAA,CAAA,aAAA,EAAA,EAAA;wBACA,IAAA,CAAY,SAAS,EAArB;4BACA,IAAgC,IAAhC,YAAA,iBAAA,EAAA;gCACA,IAAA,IAAuB,GAAvB,GAAA,IAAiC,CAAjC,QAAA,CAA2C,WAA3C,EAAA,GAAA,SAAA,GAAA,IAAA,CAAA,YAAA,CAAA,MAAA,CAAA,GAAA,IAAA,CAAA;6BACA;iCACA,IAAqC,EAArC,IAA2C,GAA3C,SAAA,CAAA,QAAA,CAAA,SAAA,CAAA,EAA6E;;;;;;;;;4BAS7E,IAAA,IAAA,IAAA,GAAA,IAAA,CAAA,QAAA,CAAA,WAAA,EAAA,GAAA,GAAA,CAAA;yBACA;qBAAA;yBACA;wBACA,IAAA,IAAA,aAAA,CAAA,UAAA,CAAA,IAAA,CAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,CAAA;qBACA;oBACoB,IAApB,SAAA,IAAA,CAAA,WAAA,CAAiC,SAAjC,CAAA,UAAA,CAAA,IAAA,CAAA,EAAA;wBACwB,IAAxB,IAAgC,IAAhC,CAAA;qBACA;oBACA,IAAA,IAAA,CAAA,QAAA,IAAA,IAAA;2BACA,IAAA,CAAA,UAAA,CAAA,UAAA,CAAA,QAAA,IAAiD,IAAjD;2BACA,IAA+B,CAAC,UAAhC,CAAA,UAAA,CAAA,MAA4D,IAA5D,CAAA;2BACA,WAAA,CAAA,SAAA,CAAA,SAAA;2BACA,CAAA,WAAA,CAAA,SAAA,CAAA,SAAA,CAAA,UAAA,CAAA,IAAA,CAAA,EAAA;wBACA,IAAA,IAAA,IAAA,CAAA;qBAEA;;oBAEoB,IAAI,CAAC,SAAzB;2BACA,IAAA,CAAA,eAAA;2BACA,IAAA,CAAA,eAAA,CAAgD,WAAhD,CAAA,MAAA,GAAA,CAAA;2BACA,IAAA,CAAA,WAAA;2BACA,aAAA,CAAA,WAAA,CAAqD,IAArD,CAAA,WAAA,CAAA;2BACA,IAAA,CAAA,UAAA,CAAA,UAAA,CAAA,WAAA,CAAA,EAAA;wBACA,IAAA,IAAA,IAAA,CAAA;qBACA;;;;;2BAGA,IAAA,CAAA,WAAA,CAAA,WAAA,CAAA,MAAA,IAAA,CAAA,EAAA;;;iBAIA;;;;;;iBD/YA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAmCA,eAAA,CAAA,SAAA,CAAA,mBAAA,GAAA,UAAA,IAAA,EAAA;QACA,IAAA,OAAA,IAAA,IAAiC,QAAjC,EAAA;YAEA,IAAA,GAAA,IAAA,CAAA,WAAA,EAAA,CAAA;SACA;QAEA,QAAA,IAAA;YACA,KAAA,MAAA,CAAA;YAEA,KAAA,kBAAA,CAAA,IAAA;gBACA,OAAA,kBAAA,CAAA,IAAA,CAAA;YACA,KAAA,QAAA,CAAA;;gBACA,OAAA,kBAAA,CAAA,MAAA,CAAA;YAMA,KAAA,WAAA,CAAA;;;;;gBAwBQ,OACA,kBAAmC,CAD3C,MAAA,CAAA;YAvBA,KAAA,MAAA,CAAA;YACA,KAAA,kBAAA,CAAA,IAAA;gBACA,OAAA,kBAAA,CAAA,IAAA,CAAA;YACQ,KAAR,KAAA,CAAmB;YACnB,KAAA,kBAAA,CAAA,GAAA;gBAMA,OAAA,kBAAA,CAAA,GAAA,CAAA;YAGA,KAAA,SAAA,CAAA;YACA,KAAA,kBAAA,CAAA,OAAA;gBACA,OAAA,kBAAA,CAAA,OAAA,CAAA;YAqGA,KAAA,KAAA,CAAA;YAiBA,KAAA,kBAAA,CAAA,GAAA;gBA8CA,OAAA,kBAAA,CAAA,GAAA,CAA2E;YAyB3E,KAAA,WAAA,CAAA;YAgCA,KAAA,kBAAA,CAAA,QAAiF;gBA0BjF,OAAA,kBAAA,CAAA,QAAA,CAAA;;;;KAOA,CAAA;;;;IAsDA,eAAA,CAAA,SAA0D,CAA1D,YAAA,GAAA,YAAA;;;;YAOA,IAAA,IAAA,CAAA,aAAA,CAAA,SAAA,CAAA,QAAA,CAAA,SAAA,CAAA,EAAA;gBAhTA,IAAA,IAAA,CAAA,WAAA,CAAA,IAAwB,EAAxB,CAAA,MAAA,IAAA,IAAA,CAAA,WAAA,CAAA,MAAA,EAAA;;;;;;;;;iBAUA;aACa;iBACb;gBACA,qBAAA,KAA0C,GAA1C,6BAAA,CAAA;gBAEA,qBAAoB,KAApB,GAA4B,KAA5B,CAAA,CAAA;gBACA,OAAuB,CAAvB,KAAA,GAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,WAAA,CAA4D,MAA5D,IAAA,EAAA;oBACA,qBAAA,MAAA,GAAA,KAAA,CAAA,KAAA,CAAA;oBACoB,IAApB,KAAA,CAAA,CAA+B,CAAC,CAAhC,MAAA,CAAA,CAAyC,CAAC,IAA1C,GAAA,EAAA;wBACA,MAAA,EAAA,CAAA;qBACqB;oBACrB,qBAAA,MAAA,GAAA,KAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAA;;;;oBAKoB,KAApB,CAAA,SAAA,GAAsC,KAAK,CAA3C,SAAA,IAAA,KAAA,CAAA,CAAA,CAAA,CAAA,MAAA,GAAA,KAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAA,CAAA;;;;oBAIA,qBAAA,IAAA,GAAA,QAAA,CAAA,aAAA,CAAA,MAAA,CAAA,CAAA;;;;;;SAtCA;KACA,CAAA;;;;;;KAyCA,CAAA;;;;;;;;;;;AAQA,IAAA,kBAAA,GAAyB;IACzB,IAAA,EAAA,CAAA;IACA,MAAU,EAAV,CAAA;IACA,SAAa,EAAb,CAAA;;;;;;;CAQA,CAAA;AACA,kBAAA,CAAA,kBAAqC,CAAC,IAAtC,CAAA,GAAA,MAAoD,CAApD;AACA,kBAAA,CAAA,kBAAqC,CAArC,MAA4CC,CAA5C,GAAA,QAAA,CAAA;AACA,kBAAA,CAAA,kBAAA,CAAA,SAAA,CAAA,GAAA,WAAA,CAAA;AACA,kBAAA,CAAA,kBAAA,CAAA,MAAA,CAAA,GAAA,QAAA,CAAA;AACA,kBAAA,CAAA,kBAAA,CAAA,IAAA,CAAA,GAAA,MAAA,CAAA;AACA,kBAAA,CAAA,kBAAA,CAAA,GAAA,CAAA,GAAA,KAAA,CAAA;AACA,kBAAA,CAAA,kBAAA,CAAqB,OAAO,CAAC,GAA7B,SAAA,CAAA;AACA,kBAAA,CAAA,kBAAA,CAAA,GAAwB,CAAxB,GAAA,KAAA,CAAA;AACA,kBAAA,CAAA,kBAAA,CAAA,QAAA,CAAA,GAAA,UAAA,CAAA;;;;AAIA,IAAA,wBAAA,kBAAA,YAAA;;;;;;;QAQkB,IAAlB,CAAA,SAAA,GAAA,EAAqC,CAAC;QAC9B,IAAI,CAAC,eAAe,GAAG,CAA/B,CAAA;;;;;;AAIA,IAAA,iBAAA,kBAAA,YAAA;;;;;;;;YAMA,KAAA,EAAA,KAAA;YACA,IAAA,EAAA,KAAA;;;;;;;QAWe,IAAf,CAAA,aAAA,GAAA,IAAAD,iBAAA,EAAA,CAAA;QACQ,IAAI,CAAC,cAAb,GAAA,IAAAA,iBAAA,EAAA,CAAA;QACQ,IAAI,CAAC,UAAb,GAA0B,IAA1BA,iBAAA,EAAA,CAAA;;;;;;QAIQ,IAAR,CAAA,OAAoB,GAApB,IAAAA,iBAAA,EAAA,CAAA;;;;;;;;QASA,IAAA,CAAA,MAAA,GAAA,IAAAA,iBAAA,EAAA,CAAA;QACQ,qBAAR,SAAA,GAAyC,IAAzC,CAAA;;;;;gBAGA,SAAA,CAAA,WAAA,CAAA,KAAA,CAAA,CAAA;aACA;SACA,CAAA,CAAA;QACA,IAAA,CAAA,wBAAA,CAAA,GAAA,CAAA,YAAA,CAAA,CAAA;QACQ,IAAR,CAAA,OAAoB,GAApB,IAAA,eAAA,CAAA,KAAA,CAAiD,aAAjD,CAAA,CAAA;;;;;QAGA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,aAAA,CAAA,UAAA,EAAA,CAAA,CAAA,CAAA;QACQ,IAAI,CAAZ,kBAAA,GAAkC,KAAlC,CAAA;QACA,IAAY,CAAZ,OAAA,CAAA,UAAA,CAAA,SAAA,CAAA,YAAA;YACA,SAAA,CAAA,cAAA,EAAA,CAAA;YACA,SAAqB,CAArB,iBAAA,EAAA,CAA0C;;;;;;;;;SAU1C;KACA;IACA,MAAA,CAAA,cAAA,CAAA,iBAAA,CAA4C,SAA5C,EAAA,aAAA,EAAA;;;;;;;SAKA;QACQ,UAAR,EAAA,IAAA;QACA,YAAA,EAAA,IAAA;KACA,CAAA,CAAA;;;;;;;;;;;IAeA,iBAAA,CAAA,SAAA,CAAgC,eAAhC,GAAA,UAAA,OAAA,EAAA;QACA,OAAA,CAAgB,kBAAhB,CAAA,IAAuC,CAAvC,CAAA;QACA,qBAAA,SAAA,GAAA,IAA6C,CAA7C;QACA,qBAAA,YAAA,GAAA,OAAA,CAAA,aAAA,CAAA,SAAA,CAAA,UAAA,KAAA,EAAA;YACA,IAAA,OAAA,CAAA,iBAAA,CAAA,SAAA,CAAA,EAAA;;;;;KAGA,CAAA;IACA,MAAA,CAAA,cAAA,CAAA,iBAA2C,CAA3C,SAAA,EAAA,aAAA,EAAA;;;;;;;;;;;YAemB,IAAnB,CAAgC,YAAhC,GAAA,OAAA,CAAA;YACY,eAAZ,CAA4B,eAA5B,CAA4C,OAA5C,CAAA,CAAA;YACA,qBAAA,SAAA,GAAA,IAAA,CAAA;YACY,qBAAZ,YAAA,GAAA,IAAoD,CAAC,YAArD,CAAA,aAAA,CAAA,SAAA,CAAA,UAAA,KAAA,EAAA;gBACA,IAAA,OAAA,CAAA,iBAAA,CAAA,SAAA,CAAA,EAAA;oBACA,SAAA,CAAA,WAAA,CAAyB,KAAzB,CAAA,CAAgC;iBAChC;aACA,CAAA,CAAA;YACA,IAAA,CAAA,wBAAA,CAAA,GAAA,CAAA,YAAA,CAAA,CAAA;SACA;QACA,UAAA,EAAA,IAAA;QACA,YAAA,EAAA,IAAA;KACA,CAAA,CAAA;IACA,MAAA,CAAA,cAAA,CAAA,iBAAA,CAAA,SAAA,EAAA,qBAAA,EAAA;;;;;;QAIQ,GAAR,EAAA,UAAA,QAAA,EAAA;YACY,IAAI,CAAC,eAAjB,GAAA,QAAA,CAA4C;SAC5C;QACA,UAAA,EAAA,IAAA;QACQ,YAAY,EAApB,IAAA;;;;;;;YAWA,OAAA,IAAA,CAAA,gBAAA,CAAA;SACA;;;;;QAKA,GAAA,EAAA,UAAA,QAAA,EAAA;YACA,IAAA,CAAA,gBAAA,GAAA,QAAA,CAAA;;;;;QAGe,YAAf,EAAA,IAAA;KACA,CAAA,CAAA;IACA,MAAA,CAAA,cAAA,CAAA,iBAAA,CAA4C,SAA5C,EAAA,SAAA,EAAA;;;;;;;;;;;;QAoBA,GAAA,EAAA,UAAA,OAAA,EAAA;YACA,IAAA,CAAA,QAAA,GAA4B,OAA5B,CAAA;YACY,IAAI,CAAC,aAAjB,CAAA,IAAA,CAAoC,OAApC,CAAA,CAAA;SACA;QACA,UAAA,EAAA,IAAA;QAAA,YAAA,EAAA,IAAA;KACA,CAAA,CAAA;;;;;;;SAKA;QACQ,OAAR,CAAA,IAAA,CAAA,oBAAA,EAAA,IAAA,CAAA,IAAA,CAAA,mBAAA,EAAA,CAAA;KACA,CAAA;;;;IAIA,iBAAA,CAAA,SAAA,CAAA,mBAAA,GAAA,YAAA;QACA,IAAA,IAAA,CAAA,OAAA,CAAA,SAAA,CAAA,MAAA,IAAA,CAAA,EAAA;YAAA,OAAA,KAAA,CAAA;SACA;QACA,OAAA,CAAA,IAAA,CAAA,OAAA,CAAA,IAAA,IAAA,IAAA,GAAA,KAAA,CAAA;;;;;;QAIA,IAAA,IAAA,CAAA,OAAkC,CAAlC,SAAA,CAAA,MAAA,IAAA,CAAA,EAAA;YACY,OAAZ,KAAA,CAAA;SACA;QACA,OAAA,CAAA,IAAA,CAAA,OAAA,CAAA,KAAA,IAAA,IAAA,GAAA,KAAA,CAAA;KACA,CAAA;IACA,MAAA,CAAA,cAAA,CAAA,iBAAA,CAAA,SAAA,EAAA,UAAA,EAAA;;;;QAGA,GAAA,EAAA,YAAA;YACA,IAAA,IAAA,CAAA,UAAA,CAAA,eAAA,IAAA,IAAA,CAAA,cAAA,EAAA;;;;;SAGA;;;;;;QAMA,GAAA,EAAA,UAAA,IAAA,EAAA;;;;;;aAqBuB;SACvB;QACA,UAAkB,EAAlB,IAAA;QACA,YAAA,EAAA,IAA0B;KAC1B,CAAA,CAAA;IACA,MAAA,CAAA,cAAyB,CAAzB,iBAAA,CAAA,SAAA,EAAA,MAAA,EAAA;;;;QAIQ,GAAR,EAAA,YAAyB;YACb,IAAZ,IAAA,CAAA,UAAA,CAAgC,WAAhC,IAAA,IAAA,CAAA,cAAA,EAAA;gBACgB,IAAhB,CAAA,UAAA,CAAA,SAAA,GAAA,IAAA,CAAA,OAAwD,CAAC,aAAzD,EAAA,CAAA;gBACA,IAAA,CAAA,UAAA,CAAA,WAAA,GAAA,IAAA,CAAA,cAAA,CAAA;;;;;;;;;;;;;;;aAkBA;;;QAGQ,YAAR,EAAA,IAAA;KACA,CAAA,CAAA;IACA,MAAA,CAAA,cAAA,CAAA,iBAAA,CAAA,SAAA,EAAA,MAAA,EAAA;;;;;;;gBAKA,IAAA,CAA+B,UAA/B,CAAA,WAAA,GAAA,IAAA,CAAA,cAAA,CAAA;aACA;YACY,OAAZ,IAAA,CAAA,UAAkC,CAAC,SAAnC,CAAA;SACA;;;;;;;;mBASA,IAAA,IAAA,IAAA,CAAA,IAAA,EAAA;gBACA,IAAA,CAAA,OAA4B,CAA5B,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,QAAA,CAAA,CAAA;gBACA,qBAAA,KAAA,GAAA,QAAA,CAAA,WAAA,EAAA,CAAA;gBACA,qBAAqC,SAAS,GAA9C,IAAA,CAAA,OAA6D,CAAC,aAA9D,CAAA,SAAA,CAAA;gBACgB,OAAhB,SAAA,CAAA,aAA8C,EAA9C,EAAA;oBACA,SAAA,GAAA,SAAA,CAAA,SAAA,CAAA;iBAAmB;gBACH,KAAhB,CAAA,QAAA,CAAA,SAAA,EAAA,SAAA,CAAA,WAAA,CAAA,MAAA,CAAA,CAAA;gBACA,IAAA,CAAA,kBAAA,GAAA,KAAA,CAAA;gBACA,IAAoB,CAApB,UAA+B,CAAC,SAAhC,GAAA,IAAA,CAAA;gBACA,IAAoB,CAApB,UAAA,CAAA,WAA2C,GAA3C,IAAkD,CAAlD,cAAiE,CAAC;aAClE;SACA;QACQ,UAAR,EAAA,IAAA;QACQ,YAAY,EAApB,IAAA;;;;;;QAIA,GAAqB,EAArB,YAAA;YACA,IAAA,IAAA,CAAA,UAAA,CAAA,eAAA,IAAkC,IAAlC,CAAA,cAAA,EAAA;gBACA,IAAA,CAAA,UAAA,CAAA,aAAA,GAAA,IAAA,CAAA,OAAA,CAAA,WAAA,EAAA,CAAA;gBACA,IAAA,CAAA,UAAA,CAAA,eAAA,GAAA,IAAA,CAAA,cAAA,CAAA;aACA;YACA,OAAA,IAAA,CAAA,UAAA,CAAA,aAAA,CAAA;SACA;;;;;;QAMA,GAAA,EAAA,UAAA,QAAA,EAAA;YACA,qBAAA,YAAA,GAAA,IAAA,CAAA,SAAA,CAAA,QAAA,CAAA,CAAA;YACA,IAAA,CAAiB,IAAjB,CAAsB,UAAtB,CAAA,eAAA,IAAA,IAAA,CAAA,cAAA,IAAA,IAAA,CAAA,UAAA,CAAA,mBAAA,IAAA,YAAA;;gBAEgB,IAAhB,CAAA,OAAA,CAAA,MAAA,CAAA,IAAA,CAAA,IAA6C,EAAE,QAA/C,CAAA,CAAA;gBACA,IAAA,CAAA,UAAA,CAAA,mBAAA,GAAA,IAAA,CAA0C,SAA1C,CAAA,QAAA,CAAA,CAAA;gBACA,IAAA,CAAA,UAAA,CAAgC,eAAhC,GAAA,IAAA,CAAA,cAAA,CAAA;aACa;SACb;QACQ,UAAU,EAAlB,IAAA;QACQ,YAAR,EAAA,IAA0B;KAC1B,CAAA,CAAA;;;;;;;;;QAOA,KAAA,CAAA,cAAA,EAAA,CAAA;QACQ,IAAI,IAAZ,CAAA,eAAA,EAAA,EAAA;YACY,IAAZ,CAAA,SAAA,EAAA,CAAA;;;;;;;;;;IAWA,iBAAA,CAAA,SAAA,CAAgC,qBAAhC,GAAA,UAAA,KAAA,EAAA;QACA,IAAY,CAAZ,IAAA,CAAA,eAAgB,EAAhB;YACY,OAAZ;SACA;QACA,KAAA,CAAA,cAAA,EAAA,CAAA;QACQ,IAAI,IAAZ,CAAiB,mBAAjB,EAAsC,EAAtC;YACY,IAAI,CAAC,SAAS,EAA1B,CAAA;SACS;aACT;YACY,IAAZ,CAAiB,SAAjB,CAAA,aAAA,EAAA,CAAA;SACA;KACA,CAAA;;;;;;QAOA,IAAA,CAAA,IAAA,CAAA,eAAA,EAAA;;;QAIQ,KAAR,CAAA,cAA4B,EAA5B,CAAA;QACA,IAAY,IAAI,CAAC,oBAAoB,EAArC,EAAA;YACA,IAAA,CAAA,SAAA,EAAA,CAAA;SACA;aACA;YACA,IAAA,CAAA,SAAA,CAAA,aAAA,EAAA,CAAA;SACA;KACA,CAAA;;;;IAIA,iBAAA,CAAA,SAAA,CAAA,SAAA,GAAA,YAAA;QACA,IAAA,CAAA,UAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA;;;;;KAEA,CAAA;;;;;;IAMA,iBAAA,CAAA,SAA+B,CAAC,SAAhC,GAAA,UAAA,KAAA,EAAA;QACQ,IAAI,KAAZ,CAAA,OAAA,IAAA,KAAkC,CAAC,OAAO,IAA1C,EAAA,EAAA;YACY,KAAZ,CAAA,cAAA,EAAA,CAAA;YACA,IAAA,CAAA,SAAA,CAAA,UAAA,CAAA,kBAAA,CAAA,IAAA,CAAA,CAAA;;;YAnfC,KAAD,CAAA,cAAA,EAAA,CAAA;YACA,IAAI,CAAJ,SAAc,CAAd,UAAyB,CAAzB,kBAAA,CAAA,MAAA,CAAA,CAAA;SACA;QACA,IAAA,KAAA,CAAA,OAAA,IAAA,KAAA,CAAA,OAAA,IAAA,EAAA,EAAA;;;;KApDA,CAAA;;;;;IAoIA,iBAAA,CAAA,SAAA,CAAA,OAAA,GAAW,YAAX;QAqBA,IAAA,CAAA,YAAA,CAAA,kBAAA,CAAA,IAAA,CAAW,CAAX;KAKA,CAAA;;;;;;;IAmGA,iBAAA,CAAA,SAAA,CAAA,UAAY,GAAZ,YAAA;;;QAuCA,qBAAA,KAAA,GAAA,MAAA,CAAA,YAAA,EAAA,CAAA,UAAA,CAAA,CAAA,CAAA,CAAA;QAmBA,IAAA,IAAA,CAAA,OAAA,CAAA,aAAA,CAAA,QAAA,CAAA,KAAA,CAAA,cAAA,CAAA;eAOA,IAAA,CAAA,OAAA,CAAA,aAAA,CAAA,QAAA,CAAA,KAAA,CAAA,YAAA,CAAA,EAAA;YAGA,IAAA,CAAA,kBAAA,GAAA,KAAiB,CAAjB;SAaA;KAaA,CAAA;;;;IA2DA,iBAAA,CAAA,SAAA,CAAA,iBAAA,GAAyB,YAAzB;QAUA,qBAAA,SAAA,GAAA,MAAA,CAAkB,YAAlB,EAAA,CAAA;QAsBA,IAAA,SAAA,CAAA,YAAA,CAAA,IAAA,CAAA,OAAA,CAAA,aAAA,EAAoC,IAApC,CAAA,EAAA;YAiBA,IAAA,CAAA,kBAAiB,GAAjB,SAAA,CAAA,UAAA,CAAA,CAAA,CAAmC,CAAC;SA8BpC;KAUA,CAAA;;;;;;;QDnfA,KAAA,CAAA,cAAA,EAAA,CAAA;;;;SAyBA;;;;;YAgBA,OAAA,CAAA,KAAA,GAAA,CAAA,IAAA,OAAA,GAAA,IAAA,GAAA,QAAA,GAAA,IAAA,CAAA;SACA,CAAA,CAAA,IAAA,CAAA,EAAA,CAAA,CAAA;QAhBA,IAAA,GAAA,aAAA,CAAA,UAAA,CAAA,IAAA,EAAA,IAAA,CAAA,OAAA,CAAA,WAAA,CAAA,MAAA,CAAA,CAAA,KAAA,CAAA,CAAA,CAAA,CAAA;QACA,IAAQ,GAAR,cAAA,CAAA,sBAAA,CAAA,IAAA,CAAA,CAAA;QACA,IAAQ,CAAR,OAAA,CAAA,WAA4B,CAA5B,YAAA,EAAA,IAAA,CAAA,CAAA;KACA,CAAA;;;;;IAKA,iBAAiB,CAAjB,SAAA,CAAA,MAAA,GAAA,UAAA,KAAA,EAAA;QACA,qBAAA,aAAA,GAAA,MAAA,CAAA,YAAA,EAAA,CAAA,UAAA,CAAA,CAAA,CAAA,CAAA;QACA,IAAA,aAAA,CAAA,SAAA,EAAA;YACA,OAAA;SAOA;;;;;;aAGA,KAAA,CAA0B,IAA1B,CAAA;aACa,GAAb,CAAA,UAAA,KAAA,EAAA;;;;;;QAIkB,qBAAlB,KAAA,GAAA,QAAA,CAAA,WAAA,EAAA,CAAA;QACQ,KAAK,CAAb,cAA4B,CAA5B,GAAgC,CAAhC,UAAA,CAAA,CAAA;QACQ,KAAR,CAAA,WAAA,CAAA,GAAA,CAAA,SAAuC,CAAvC,CAAA;;;;;;QAGA,SAAA,CAAA,eAAA,EAAA,CAAA;QACQ,SAAR,CAAA,QAA0B,CAA1B,aAAwC,CAAxC,CAAA;KACK,CAAL;;;;;IAEW,iBAAX,CAAA,SAAA,CAAA,KAAA,GAAA,UAAA,KAAA,EAAA;QACQ,IAAI,CAAC,MAAb,CAAA,KAAA,CAAA,CAAA;;;;;;;;IAKA,iBAAA,CAAA,SAAA,CAAA,OAAA,GAAA,UAAA,KAAA,EAAA;QACA,IAAA,IAAA,CAAA,eAAA,IAAA,cAAA,CAAA,WAAA,CAAA,KAAA,CAAA,SAAA,CAAA,EAAA;YACA,qBAAA,KAAA,GAAA,QAAgC,CAAhC,WAAA,EAAA,CAAA;YACY,KAAZ,CAAA,cAAA,CAAA,KAAsC,CAAtC,SAAA,CAAA,CAAA;YACA,qBAAA,SAAA,GAAA,MAAA,CAAA,YAAA,EAAA,CAAA;YACY,SAAZ,CAAA,eAAA,EAAA,CAAA;YACA,SAAA,CAAA,QAAA,CAAA,KAAA,CAAA,CAAA;;;;SAEA;QACQ,IAAR,KAAA,CAAA,SAAA,YAAA,iBAAA,EAAA;YACY,KAAZ,CAAA,cAAgC,EAAE,CAAlC;YACY,IAAZ,CAAA,MAAA,CAAA,IAAA,CAAA,KAAA,CAAA,SAAuC,CAAC,YAAxC,CAAA,MAAA,CAAA,CAAA,CAAA;SACA;KACA,CAAA;;;;;IAKA,iBAAqB,CAArB,SAAA,CAAA,iBAAA,GAAA,YAAA;;;QAGA,IAAY,IAAZ,CAAA,UAAA,CAAA,SAAA,CAAA,MAAA,GAAA,CAAA,EAAA;YACA,IAAA,CAAA,UAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA;SAAA;QACA,IAAY,IAAI,CAAhB,cAA+B,CAAC,SAAS,CAAzC,MAAA,GAAmD,CAAnD,EAAA;YACA,IAAgB,CAAhB,cAAA,CAAA,IAAA,CAAA,IAAA,CAA0C,QAA1C,CAAA,CAAA;SACA;QACA,IAAY,IAAZ,CAAA,cAAA,CAAA,SAAA,CAAA,MAAA,GAAA,CAAA,EAAA;YACA,IAAA,CAAA,cAAA,CAAA,IAAA,CAAA,IAAA,CAAA,QAAA,CAAA,CAAA;SACA;;;;KAEA,CAAA;;;;;IAKA,iBAAqB,CAArB,SAAA,CAAgC,WAAhC,GAAA,UAAA,KAAA,EAAA;QACA,IAAA,CAAA,IAAA,CAAA,eAAiC,EAAE;YACnC,OAAA;SACA;QACA,qBAAA,SAAA,GAAA,MAAA,CAAA,YAAA,EAAA,CAAA;QACA,SAAA,CAAA,eAAA,EAAA,CAAA;QACA,SAAA,CAAA,QAAA,CAAA,IAAA,CAAA,kBAAA,CAAA,CAAA;;;KApGA,CAAA;IACA,OAAA,iBAAA,CAAA;CACA,EAAA,CAAA,CAAA;;;;;;;;;;;;;IAaA,aAAA,EAAA,CAAA,EAAA,IAAA,EAAAD,UAAA,EAAA,IAAA,EAAA,CAAA,aAAA,EAAA,EAAA,EAAA;IACA,aAAA,EAAA,CAAA,EAAA,IAAA,EAAAA,UAAA,EAAA,IAAA,EAAA,CAAA,QAAA,EAAA,EAAA,EAAA;;;;IAxBA,SAAA,EAAA,CAAA,EAAA,IAA8B,EAA9BA,UAAA,EAAA,IAAA,EAAA,CAAA,SAAA,EAAA,EAAA,EAAA;IACA,eAAA,EAAA,CAAA,EAAA,IAAA,EAAAD,WAAA,EAAA,IAAA,EAAA,CAAA,eAAA,EAAA,EAAA,EAAA;;;IAkDA,MAAA,EAAA,CAAA,EAAA,IAAA,EAAAC,UAAA,EAAA,IAAA,EAAA,CAAA,MAAA,EAAA,EAAA,EAAA;;;;;;;IDnDA,gBAAA,EAAA,CAAA,EAAA,IAAA,EAAAF,iBAAA,EAAA,IAAA,EAAA,CAAA,eAAA,EAAA,CAAA,QAAA,CAAA,EAAA,EAAA,EAAA;;;;IAwBA,QAAA,EAAA,CAAA,EAAA,IAAmC,EAAnCC,WAAA,EAAA,IAAA,EAAA,CAAA,MAAA,EAAA,EAAA,EAAA;IAAA,WAAA,EAAA,CAAuB,EAAvB,IAAA,EAAuBD,iBAAvB,EAAA,IAAA,EAAA,CAAA,SAAA,EAAA,CAAA,QAAA,CAAA,EAAA,EAAA,EAAA;IAHA,SAAA,EAAA,CAAA,EAAA,IAAA,EAAAA,iBAAA,EAAA,IAAA,EAAA,CAAA,OAAA,EAAA,EAAA,EAAA;;;;;IAOW,SAAX,EAAA,CAAuB,EAAvB,IAAA,EAAAA,iBAAA,EAAA,IAAA,EAAA,CAAA,OAAA,EAAA,CAAA,QAAA,CAAA,EAAA,EAAA,EAAA;CACA,CAAA;;;;;;;;AAMA,IAAA,uBAAA,kBAAA,YAAA;;;;;IAKA,SAAA,uBAAoC,CAApC,KAAA,EAA4C,YAA5C,EAAA;QACA,IAAA,CAAa,YAAb,GAAA,YAAA,CAAA;QACA,IAAY,CAAZ,UAAA,GAAA;YACA,MAAA,EAAA,EAAsB;YACtB,kBAA4B,EAA5B,IAAA;YACA,kBAAA,EAAA,IAAA;;;;;;YAWA,KAAA,EAA0B,IAA1B;SACA,CAAA;;;;;;;;;;;;;;;;;;;SAaA;QACQ,UAAR,EAAoB,IAApB;;;;;;;;;;;;;;;;;;;;;;;;SAkBA,CAAA,CAAA;QACQ,IAAR;;;;;;QAIe,OAAf,MAAoC,EAApC,EAAA,IAAA,GAAA,EAAA,KAAA,EAAA,MAAA,EAAA,CAAA,EAAA;gBACA;;;;;SAGA;QACQ,IAAR,CAAA,UAAA,CAAA,QAAA,CAAA,GAAA,MAAA,CAA2C;;;;;;IAK3C,uBAAA,CAAA,SAAA,CAAA,SAAA,GAAkD,YAAlD;;;;;;oBAIA,IAAA,KAAA,GAAA,EAAA,CAAA,KAAA,CAAA;oBACA,IAAA;;;;;gCAGA,eAAA,CAAA,SAAA,CAAA,CAAA,CAAA,OAAA,CAAA,CAAA;gCACA,MAAA;;;;;4BAIA;wBACA,IAAA;;;;;;aAIoB;YACR,OAAZ,MAAA,EAA2B,EAA3B,IAAA,GAAA,EAAA,KAAA,EAAA,MAAA,EAAA,CAAA,EAAA;;;;;wBAGA,EAAA,IAAA,IAAA,EAAA,MAAA,IAAA,CAAA,KAAA,CAAA,EAAA;aACA;;;;;gBAIA,IAAA,CAAA,YAAA,CAAA,QAAA,CAAA,CAAA;aACA;;;;;;;;;;;;gBAQuB,KAAvB,EAAA,gBAAA,GAAA,KAAA;qBACA,OAAA,CAAA,GAAA,EAAkC,EAAlC,CAAA;;;;;SAIA,CAAA,CAAA;KACA,CAAA;;;;;gBAIA,QAAA,EAAA,kBAAA;gBACA,QAAA,EAAA,gYAAA;;;;;IAIA,EAAA,IAAA,EAAAD,eAAA,GAAA;IACA,EAAA,IAAA,EAAA,eAAA,GAAA;;;;;;;;;;;;;;;;;;;;IA9IA,2BAAA,CAAA,SAAA,CAAA,YAAA,GAAA,YAAA;QACA,IAAA,CAAC,UAAD,GAAA,CAAA,IAAA,CAAA,UAAA,CAAA;;;;;;;QAGA,GAAA,EAAA,UAAA,MAAA,EAAK;YAcL,IAAA,CAAA,MAAA,EAAA;gBAuBA,OAAA;aAKA;YAKA,qBAAA,SAAA,GAAA,IAAA,CAAA;YASA,MAAA,CAAA,aAAA,CAAA,gBAAA,CAAA,YAAA,EAAA,YAAmC;gBAKnC,qBAAA,OAAA,GAAoB,MAApB,CAAA,UAAA,CAAA,YAAA;oBASA,SAAA,CAAK,UAAL,GAAA,KAAA,CAAA;iBAKA,EAAA,IAAA,CAAA,CAAK;gBASL,MAAA,CAAA,aAAA,CAAW,gBAAX,CAAA,YAAA,EAAA,YAAA;oBAKA,MAAU,CAAV,YAAA,CAAA,OAAA,CAAA,CAAA;iBASA,EAAA,EAAA,IAAA,EAAK,IAAL,EAAW,CAAX,CAAA;aAKA,CAAA,CAAA;SASA;QAKA,UAAA,EAAA,IAAA;QASA,YAAA,EAAA,IAAA;KAKA,CAAA,CAAA;IAKA,MAAA,CAAA,cAAA,CAAK,2BAAL,CAAA,SAAA,EAAA,aAAA,EAAA;;;;;;;;QD1JA,UAAA,EAsBA,IAtBA;;;;;;;;;;;QA8BA,UAAA,EAAA,IAAA;QACQ,YAAR,EAAA,IAAA;;;;;;QAGA,GAAkB,EAAlB,YAAA;YACA,OAAA,IAAuB,CAAvB,cAAsC,CAAC,eAAvC,CAAA;;;;;;QAIQ,GAAR,EAAA,UAAA,QAAA,EAAA;;;QAhBA,UAAA,EAAA,IAAA;QACA,YAAA,EAAA,IAAA;;IAhBA,MAAA,CAAA,cAAA,CAAA,2BAAA,CAAA,SAAA,EAAA,uBAAA,EAAA;;;;QAIA,GAAA,EAAA,YAAA;YACA,OAAA,IAAA,CAAA,cAAA,CAAA,qBAAA,CAAA;SACA;QACA,UAAA,EAAA,IAAA;QACA,YAAQ,EAAR,IAAA;KACA,CAAA,CAAA;IACA,MAAA,CAAA,cAAa,CAAb,2BAAA,CAAA,SAAA,EAAA,SAAA,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"
}
